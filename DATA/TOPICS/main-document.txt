
11-23-2024Basic Commands
In Linux every command is in lower case
[zafar1@linux ~]$ pwd
/home/zafar1

Print working directory


/home/zafar1

- This is users zafar1 landing window
- This is also referred to as home directory for the user
clear

- clears the screen
Input 

- [zafar1@linux ~]$ pwd - any command you are putting in from keyboard is input


Output

- /home/zafar1 
- 
- the result displayd is output 
- or
- response from OS 


touch 

- creates a file
- 
- touch file1
- above command created file1
ls

- ls is a list command
- 
- lists the content of the directory or pwd
ls -l

- ls with switch -l
- this means the output will be long list
- 


ls -a

- ls with switch -a
- this means the output will display ALL files
- including hidden files
- 
- hidden files start with . period


[zafar1@linux ~]$ ls -a
.   .bash_history  .bash_profile  .config    file1     .ssh
..  .bash_logout   .bashrc        .esd_auth  .mozilla  .viminfo
ls -al
- This is combination of two switches
- -l long list
- -a all files or hidden files




[zafar1@linux ~]$ ls -al
total 44
drwx------.  5 zafar1 zafar1  172 Nov 23 09:58 .
drwxr-xr-x. 80 root   root   4096 Nov 23 09:27 ..
-rw-------.  1 zafar1 zafar1 9514 Aug 31 12:02 .bash_history
-rw-r--r--.  1 zafar1 zafar1   18 Oct  1  2021 .bash_logout
-rw-r--r--.  1 zafar1 zafar1  141 Oct  1  2021 .bash_profile
-rw-r--r--.  1 zafar1 zafar1  376 Oct  1  2021 .bashrc
drwx------.  4 zafar1 zafar1   33 Nov 29  2022 .config
-rw-------.  1 zafar1 zafar1   16 Nov 22  2022 .esd_auth
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 09:58 file1
drwxr-xr-x.  4 zafar1 zafar1   39 Feb 28  2021 .mozilla
drwx------.  2 zafar1 zafar1   80 Dec  7  2022 .ssh
-rw-------.  1 zafar1 zafar1 9018 Dec  1  2022 .viminfo
History   

- Displays the history of commands for that user logged in
- To run command use ! followed by number from history

  946  clear
  947  touch file1
  948  ls
  949  ls -l
  950  ls -a
  951  ls -al
  952  clear
  953  ls -l
  954  clear
  955  history
[zafar1@linux ~]$

[zafar1@linux ~]$ !951
ls -al
total 44
drwx------.  5 zafar1 zafar1  172 Nov 23 09:58 .
drwxr-xr-x. 80 root   root   4096 Nov 23 09:27 ..
-rw-------.  1 zafar1 zafar1 9514 Aug 31 12:02 .bash_history
-rw-r--r--.  1 zafar1 zafar1   18 Oct  1  2021 .bash_logout
-rw-r--r--.  1 zafar1 zafar1  141 Oct  1  2021 .bash_profile
-rw-r--r--.  1 zafar1 zafar1  376 Oct  1  2021 .bashrc
drwx------.  4 zafar1 zafar1   33 Nov 29  2022 .config
-rw-------.  1 zafar1 zafar1   16 Nov 22  2022 .esd_auth
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 09:58 file1
drwxr-xr-x.  4 zafar1 zafar1   39 Feb 28  2021 .mozilla
drwx------.  2 zafar1 zafar1   80 Dec  7  2022 .ssh
-rw-------.  1 zafar1 zafar1 9018 Dec  1  2022 .viminfo
history 20
- Displays last 20 commands used

[zafar1@linux ~]$ history 20
 1008  clear
 1009  pwd
 1010  clear
 1011  ll
 1012  rm -rf *
 1013  clear
 1014  touch file1
 1015  ls
 1016  pwd
 1017  clear
 1018  ls
 1019  ls -l
 1020  clear
 1021  ls -a
 1022  ls -la
 1023  clear
 1024  history
 1025  ls -l
 1026  clear
 1027  history 20
Up and down arrow on keyboard

- Rolling up and down will bring commands also


Running multiple commands

- Use ;
- Provide ; after each command
- 
- This is building block of scripting


[zafar1@linux ~]$ clear;pwd;ls -l
/home/zafar1
total 0
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 09:58 file1
touch doc1 doc2 doc3
- Creates multiple files simultaneously 



[zafar1@linux ~]$ touch doc1 doc2 doc3
[zafar1@linux ~]$ ls -l
total 0
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc1
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc2
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc3
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 09:58 file1

[zafar1@linux ~]$ touch .file2

[zafar1@linux ~]$ ls -al
total 44
drwx------.  5 zafar1 zafar1  222 Nov 23 10:35 .
drwxr-xr-x. 80 root   root   4096 Nov 23 09:27 ..
-rw-------.  1 zafar1 zafar1 9514 Aug 31 12:02 .bash_history
-rw-r--r--.  1 zafar1 zafar1   18 Oct  1  2021 .bash_logout
-rw-r--r--.  1 zafar1 zafar1  141 Oct  1  2021 .bash_profile
-rw-r--r--.  1 zafar1 zafar1  376 Oct  1  2021 .bashrc
drwx------.  4 zafar1 zafar1   33 Nov 29  2022 .config
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc1
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc2
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc3
-rw-------.  1 zafar1 zafar1   16 Nov 22  2022 .esd_auth
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 09:58 file1
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:35 .file2
drwxr-xr-x.  4 zafar1 zafar1   39 Feb 28  2021 .mozilla
drwx------.  2 zafar1 zafar1   80 Dec  7  2022 .ssh
-rw-------.  1 zafar1 zafar1 9018 Dec  1  2022 .viminfo
mkdir

- Mkdir - crates a directory
- Directory or folder same meaning


[zafar1@linux ~]$ mkdir folder1
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l
total 0
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc1
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc2
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc3
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 09:58 file1
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 10:45 folder1
mkdir folder2 folder3 folder4

- Create multiple folder/ directory at the same time


[zafar1@linux ~]$ mkdir folder2 folder3 folder4
[zafar1@linux ~]$ ls -l
total 0
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc1
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc2
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 10:33 doc3
-rw-rw-r--. 1 zafar1 zafar1 0 Nov 23 09:58 file1
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 10:45 folder1
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 10:47 folder2
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 10:47 folder3
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 10:47 folder4
mkdir .dir1
- Creates the hidden directory

[zafar1@linux ~]$ mkdir .dir1

[zafar1@linux ~]$ ls -al
total 48
drwx------. 10 zafar1 zafar1 4096 Nov 23 11:40 .
drwxr-xr-x. 80 root   root   4096 Nov 23 09:27 ..
-rw-------.  1 zafar1 zafar1 9514 Aug 31 12:02 .bash_history
-rw-r--r--.  1 zafar1 zafar1   18 Oct  1  2021 .bash_logout
-rw-r--r--.  1 zafar1 zafar1  141 Oct  1  2021 .bash_profile
-rw-r--r--.  1 zafar1 zafar1  376 Oct  1  2021 .bashrc
drwx------.  4 zafar1 zafar1   33 Nov 29  2022 .config
drwxrwxr-x.  2 zafar1 zafar1    6 Nov 23 11:40 .dir1
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc1
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc2
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:33 doc3
-rw-------.  1 zafar1 zafar1   16 Nov 22  2022 .esd_auth
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 09:58 file1
-rw-rw-r--.  1 zafar1 zafar1    0 Nov 23 10:35 .file2
drwxrwxr-x.  3 zafar1 zafar1   23 Nov 23 11:13 folder1
drwxrwxr-x.  2 zafar1 zafar1    6 Nov 23 10:47 folder2
drwxrwxr-x.  2 zafar1 zafar1    6 Nov 23 10:47 folder3
drwxrwxr-x.  2 zafar1 zafar1    6 Nov 23 10:47 folder4
drwxr-xr-x.  4 zafar1 zafar1   39 Feb 28  2021 .mozilla
drwx------.  2 zafar1 zafar1   80 Dec  7  2022 .ssh
-rw-------.  1 zafar1 zafar1 9018 Dec  1  2022 .viminfo
Tree
- Displays the out of the existing pwd [present working directory]
- In layout format


tree
.
??? doc1
??? doc2
??? doc3
??? file1
??? folder1
??? folder2
??? folder3
??? folder4

4 directories, 4 files
cd
- Command is for changing directory

[zafar1@linux ~]$ cd folder1
[zafar1@linux folder1]$

- You can now see the directory you are in using pwd

[zafar1@linux folder1]$ pwd
/home/zafar1/folder1
path
- This is path of the present working directory


/home/zafar1/folder1    < --- path or address

/Illinois/gurnee/home
Tab key
- This will auto fill the command or name of file or folder




[zafar1@linux folder1]$ mkdir dirctory1
[zafar1@linux folder1]$ ls -l
total 0
drwxrwxr-x. 2 zafar1 zafar1 6 Nov 23 11:13 dirctory1
[zafar1@linux folder1]$ cd dirctory1/
[zafar1@linux dirctory1]$ pwd
/home/zafar1/folder1/dirctory1
cd
- If you simply issue cd command and hit enter
- You will go back to your home directory


/home/zafar1/folder1/dirctory1   < --- working directory
[zafar1@linux dirctory1]$ cd
[zafar1@linux ~]$ pwd
/home/zafar1                                  < --- it jumped you to your home directory


cd -
- This will bring you back to the previous working directory


[zafar1@linux ~]$ cd -
/home/zafar1/folder1/dirctory1
cd ..
- Each time you hit cd .. 
- You will go up a directory or folder
- This mean you are changing to parent directory


/home/zafar1/folder1/dirctory1
[zafar1@linux dirctory1]$
[zafar1@linux dirctory1]$ cd ..
[zafar1@linux folder1]$ pwd
/home/zafar1/folder1
[zafar1@linux folder1]$ cd ..
[zafar1@linux ~]$ pwd
/home/zafar1
Single dot and double dot
. 
.. 

- . single dot 
- This mean present working directory
- 
- .. two dots
- This mean parent working directory of the directory you are in




cd /folder1/dirctory1

- Here you are changing multiple directories



5 directories, 4 files

[zafar1@linux ~]$ pwd
/home/zafar1
[zafar1@linux ~]$ cd folder1/dirctory1/
[zafar1@linux dirctory1]$ pwd
/home/zafar1/folder1/dirctory1
cd ../..
- This command will take you couple directories up




[zafar1@linux directory1]$ pwd
/home/zafar1/folder1/directory1
[zafar1@linux directory1]$
[zafar1@linux directory1]$ cd ../..
[zafar1@linux ~]$
[zafar1@linux ~]$ pwd
/home/zafar1
12-07-2024
Paths 

Absolute path
- The path starts with /
- Form the top most directory
- /home/zafar1

Relative path
- folder1/directory1/
- this is a path looking forward from the present working directory

you can use absolute and relative path to change directories
rm
- removes the file


[zafar1@linux ~]$ ls -l
total 0
-rw-rw-r--. 1 zafar1 zafar1  0 Nov 30 09:57 doc1
-rw-rw-r--. 1 zafar1 zafar1  0 Nov 30 09:57 doc2
-rw-rw-r--. 1 zafar1 zafar1  0 Nov 30 09:57 doc3
drwxrwxr-x. 3 zafar1 zafar1 24 Nov 30 10:17 folder1
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder2
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder3
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder4
[zafar1@linux ~]$
[zafar1@linux ~]$ rm doc1
[zafar1@linux ~]$ ls -l
total 0
-rw-rw-r--. 1 zafar1 zafar1  0 Nov 30 09:57 doc2
-rw-rw-r--. 1 zafar1 zafar1  0 Nov 30 09:57 doc3
drwxrwxr-x. 3 zafar1 zafar1 24 Nov 30 10:17 folder1
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder2
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder3
drwxrwxr-x. 2 zafar1 zafar1  6 Nov 30 10:03 folder4
rm -rf *

- this will remove all the files from directory
- be careful using this command

[zafar1@linux ~]$ rm -rf *
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l
total 0
*
- this is wild card
- this can be used for filtering
- * itself means everything


[zafar1@linux ~]$ ls -l d*        < --- filters out using d as start of file
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 doc1
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 doc2
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 doc3
[zafar1@linux ~]$

[zafar1@linux ~]$ ls -l f*    < --- filters out using f as start of file
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 file1
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 file2
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 file3
[zafar1@linux ~]$

[zafar1@linux ~]$ ls -l *2    < --- filters out using ends with
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 doc2
-rw-rw-r--. 1 zafar1 zafar1 0 Dec  7 09:45 file2


[zafar1@linux ~]$ ls -l *f*    < --- filters out matching middle character
-rw-rw-r--. 1 zafar1 zafar1   0 Dec  7 09:45 file1
-rw-rw-r--. 1 zafar1 zafar1   0 Dec  7 09:45 file2
-rw-rw-r--. 1 zafar1 zafar1   0 Dec  7 09:45 file3
-rw-rw-r--. 1 zafar1 zafar1 350 Dec  7 09:50 newfile


[zafar1@linux ~]$ tree
.
??? canada
??? chicago
??? dc
??? illinois
??? missasauga
??? Washington
cp

- cp command is used for copying files and folders
- cp chicago Illinois
- cp <source> <destination>



- this example, I used relative path to copy the file


[zafar1@linux ~]$ cp chicago /home/zafar1/canada/
[zafar1@linux ~]$
[zafar1@linux ~]$ tree
.
??? canada
?   ??? chicago
??? chicago
??? dc
??? illinois
?   ??? chicago
??? missasauga
??? washington

3 directories, 5 files

- copyting using absolute path
mv

- mv is used for moving files and directories


[zafar1@linux ~]$ mv missasauga canada/
[zafar1@linux ~]$ ls
canada  chicago  dc  illinois  washington
[zafar1@linux ~]$ tree
.
??? canada
?   ??? chicago
?   ??? missasauga
??? chicago
??? dc
??? illinois
?   ??? chicago
??? washington

3 directories, 5 files

[zafar1@linux ~]$ tree
.
??? canada
?   ??? chicago
?   ??? missasauga
??? dc
??? illinois
?   ??? chicago
??? washington

3 directories, 4 files
[zafar1@linux ~]$ mv canada/chicago .
[zafar1@linux ~]$ tree
.
??? canada
?   ??? missasauga
??? chicago
??? dc
??? illinois
?   ??? chicago
??? washington

3 directories, 4 files



- source and destination using absolute path
- [zafar1@linux ~]$ mv /home/zafar1/canada/missasauga /home/zafar1/illinois/
- 


- mv ../illinois/missasauga .



[zafar1@linux canada]$ ls
missasauga
[zafar1@linux canada]$ cp /home/zafar1/canada/missasauga ../dc/
[zafar1@linux canada]$ tree
.
??? missasauga

0 directories, 1 file
[zafar1@linux canada]$ cd
[zafar1@linux ~]$ tree
.
??? canada
?   ??? missasauga
??? chicago
??? dc
?   ??? missasauga
??? illinois
?   ??? chicago
??? washington

3 directories, 5 files



[zafar1@linux ~]$ mkdir north-america
Copying folders
- cp -R 
- this copies the entire directory/ folder to destination
- [zafar1@linux ~]$ cp -R illinois north-america/


Moving folder
- mv is the command to move files and folders
- similar to cut and paste
- 

Moving folder 
- While moving -r or -R

mv north-america/illinois canada/


.
??? canada
?   ??? chicago
?   ??? gurnee
?   ??? missasauga
?   ??? schaumburg
??? chicago
??? dc
?   ??? missasauga
?   ??? schaumburg
??? illinois
?   ??? chicago
?   ??? gurnee
?   ??? schaumburg
??? north-america
?   ??? illinois
?       ??? chicago
?       ??? gurnee
?       ??? schaumburg
??? washington

[zafar1@linux ~]$ mv north-america/illinois canada/
[zafar1@linux ~]$
[zafar1@linux ~]$
[zafar1@linux ~]$
[zafar1@linux ~]$
[zafar1@linux ~]$ tree
.
??? canada
?   ??? chicago
?   ??? gurnee
?   ??? illinois
?   ?   ??? chicago
?   ?   ??? gurnee
?   ?   ??? schaumburg
?   ??? missasauga
?   ??? schaumburg
??? chicago
??? dc
?   ??? missasauga
?   ??? schaumburg
??? illinois
?   ??? chicago
?   ??? gurnee
?   ??? schaumburg
??? north-america
??? Washington

mv
- This command is also used for renaming the file and folder
- Renaming folder


Reanming file


[zafar1@linux ~]$ ls -l
total 0
drwxrwxr-x. 3 zafar1 zafar1 87 Dec  7 11:16 canada
-rw-rw-r--. 1 zafar1 zafar1  0 Dec  7 10:04 chicago
drwxrwxr-x. 2 zafar1 zafar1 42 Dec  7 11:04 district-of-columbia
drwxrwxr-x. 2 zafar1 zafar1 53 Dec  7 10:37 illinois
drwxrwxr-x. 2 zafar1 zafar1  6 Dec  7 11:16 north-america
-rw-rw-r--. 1 zafar1 zafar1  0 Dec  7 09:56 washington
[zafar1@linux ~]$
[zafar1@linux ~]$ mv washington washington-dc
[zafar1@linux ~]$ ls -l
total 0
drwxrwxr-x. 3 zafar1 zafar1 87 Dec  7 11:16 canada
-rw-rw-r--. 1 zafar1 zafar1  0 Dec  7 10:04 chicago
drwxrwxr-x. 2 zafar1 zafar1 42 Dec  7 11:04 district-of-columbia
drwxrwxr-x. 2 zafar1 zafar1 53 Dec  7 10:37 illinois
drwxrwxr-x. 2 zafar1 zafar1  6 Dec  7 11:16 north-america
-rw-rw-r--. 1 zafar1 zafar1  0 Dec  7 09:56 washington-dc
echo
- Echo means repeat


[zafar1@linux ~]$ echo

[zafar1@linux ~]$ echo this is linux course
this is linux course
[zafar1@linux ~]$
[zafar1@linux ~]$ echo I am in DC
I am in DC
alias
- This is like a shortcut
- You can use combination of commands to create your own command
- 
[zafar1@linux ~]$ alias zafar='ls -l;pwd;history 20'   < - to create alias


[zafar1@linux ~]$ unalias zafar < --- to remove alias

VI editor
vi editor
- Vi file1 to enter the file
- i - to enter edit mode
- esc - to exit edit mode
- Shift : x - save and exit the file
- If you are just in file for reading, shift : q


- esc               < - this will move you out of edit mode
- q                  < - this will quit the file
- q!                < - this will quit without save, if you had made any change, keep file unedited

12-14-2024Command mode

: set number         #<      this will enabled line numbering
yy                            #<      copy the line
u                              #<     undo your last action
dd                            #<     deletes the line where cursor is at 
x                               #<     deletes the letter where ever your cursor is
/linux                       #<     searches for the pattern in the file
:%s/linux/REDHAT     #<    find and replace - entire file


‘:e file1’Loads the specified file for editing
-          You can also specifi absolute and relative path
 ‘:r’Load the file content of the file againiinsert text and not replace itRover write existing text when new text addedcwremove current word cursor is on and insert into insert mode to add textccreplace the entire of line of textlmoves cursor one character to the righthmoves cursor one character to the leftjmoves cursor down one linekmoves cursor up one line Yank - Term used to copy text. Use YY to “yank” a line of text.yywill yank/copy entire line the cursor is currently on2yywill copy the current line of text as well as the line underneath it (2lines)3yywill copy three lines, 4yy 4 lines of text 5yy…pwill paste the contents from yanked yy text, starting on the line after your cursorPuppercase P will paste the yanked line(s) starting on the line before the cursor5Gmoves your cursor to line 55ggmoves your cursor to line 5 (note case sensitive)GMoves the cursor to the beginning of the last line in the file1GMoves the cursor to the first line of the fileLAlso moves the cursor to the beginning of the last line on the terminal screenHMoves the cursor to the first line on the terminal screenoopens insert mode to insert text, creates a new line below your current cursor positionuundoccRemoves the entire line and places you into insert mode/ - search, /rootwill search the file for root you can navigate to the next occurrence using the n key?is the same as / as it relates to searching

cat
- concatenate - it read the file and display as output 


[zafar1@linux ~]$ cat file1
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
ReDirector
Three redirectors

0<Standard Input1>Standard Output22>Standard Error


Standard input



[zafar1@linux ~]$ cat 0< file1
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
[zafar1@linux ~]$
[zafar1@linux ~]$ cat file1
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
Standard output
[zafar1@linux ~]$ echo "This is RHEL course"
This is RHEL course
[zafar1@linux ~]$
[zafar1@linux ~]$
[zafar1@linux ~]$ echo "This is RHEL course" > file2
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l
total 8
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 09:58 file1
-rw-rw-r--. 1 zafar1 zafar1  20 Dec 14 10:13 file2
[zafar1@linux ~]$ cat file2
This is RHEL course



[zafar1@linux ~]$ cat file1 > file3
[zafar1@linux ~]$ ls -l
total 12
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 09:58 file1
-rw-rw-r--. 1 zafar1 zafar1  20 Dec 14 10:13 file2
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 10:20 file3
[zafar1@linux ~]$ cat file3
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
[zafar1@linux ~]$ echo "This is RHEL course" >> file3
[zafar1@linux ~]$ cat file3
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
This is RHEL course

To add content to thefile use >>
- this will keep the content of the file and add output to the bottom of the file
Redirect content of multiple file to single file

[zafar1@linux ~]$ cat f* > file4
[zafar1@linux ~]$ ls -l
total 16
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 09:58 file1
-rw-rw-r--. 1 zafar1 zafar1  20 Dec 14 10:13 file2
-rw-rw-r--. 1 zafar1 zafar1 287 Dec 14 10:21 file3
-rw-rw-r--. 1 zafar1 zafar1 574 Dec 14 10:25 file4
[zafar1@linux ~]$ cat file4
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
This is RHEL course
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
This is RHEL course
Standard error
2> is used for filtering out the errors

[zafar1@linux ~]$ cat file1 file5
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
cat: file5: No such file or directory
[zafar1@linux ~]$

[zafar1@linux ~]$ cat file1 file5 2>/dev/null   < --- discarded to /dev/null
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
/dev/null - 	

/dev/null is a special file in Unix and Linux systems that acts as a data sink. Any data written to /dev/null is discarded, and reading from it always returns nothing.


	
[zafar1@linux ~]$ cat file1 file5 2> error-file
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
[zafar1@linux ~]$ ls -l
total 20
-rw-rw-r--. 1 zafar1 zafar1  38 Dec 14 10:56 error-file
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 09:58 file1
-rw-rw-r--. 1 zafar1 zafar1  20 Dec 14 10:13 file2
-rw-rw-r--. 1 zafar1 zafar1 287 Dec 14 10:21 file3
-rw-rw-r--. 1 zafar1 zafar1 267 Dec 14 10:50 file4
[zafar1@linux ~]$ cat error-file
cat: file5: No such file or directory

Use 2>> to add to the file

[zafar1@linux ~]$ cat file1 file5 2>> error-file
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
this is REDHAT course
this is red hat enterprise REDHAT
this is REDHAT Enterprise Linux
[zafar1@linux ~]$ cat error-file
cat: file5: No such file or directory
cat: file5: No such file or directory



[zafar1@linux ~]$ ls -l /home/* 2>> error-file    < -- all errors are filtered to error-file
/home/zafar1:
total 24
-rw-rw-r--. 1 zafar1 zafar1 4906 Dec 14 11:12 error-file
-rw-rw-r--. 1 zafar1 zafar1  267 Dec 14 09:58 file1
-rw-rw-r--. 1 zafar1 zafar1   20 Dec 14 10:13 file2
-rw-rw-r--. 1 zafar1 zafar1  287 Dec 14 10:21 file3
-rw-rw-r--. 1 zafar1 zafar1  267 Dec 14 10:50 file4

Grep 
- filters the line with matching word in the file

[zafar1@linux ~]$ grep zafar error-file
ls: cannot open directory '/home/zafar': Permission denied
ls: cannot open directory '/home/zafar01': Permission denied
[zafar1@linux ~]$
[zafar1@linux ~]$ grep hamid error-file
ls: cannot open directory '/home/hamid': Permission denied
grep -i

- ignores the case sensitivity


[zafar1@linux ~]$ grep HAMID error-file
[zafar1@linux ~]$
[zafar1@linux ~]$ grep -i HAMID error-file
ls: cannot open directory '/home/hamid': Permission denied
Pipe | 

- pipe is used for running multiple filter commands
- primary command | secondary command | third command
- 



[zafar1@linux ~]$ cat file1
orange
strawberry
ornage
apple
pineapple
kiwi
celery
melon
watermelon
[zafar1@linux ~]$ cat file1 | grep melon
melon
watermelon
[zafar1@linux ~]$ cat file1 | grep melon | grep water
Watermelon


wc
- Word count
[zafar1@linux ~]$ wc file1
 9  9 70 file1

99Characters incl spaceFile1Number of lineswords70Name of the file
Head
- Reads top 10 lines of the file


[zafar1@linux ~]$ head file2
1 1 line one
  2 2 line two
  3 3 line three
  4 4 this is line four
  5 5 line five
  6 6 line six
  7 7 line seven
  8 8 line eight
  9 9 line 9
 10 10 line 10
head -5 file2

head -15 file2


[zafar1@linux ~]$ head -5 file2
1 1 line one
  2 2 line two
  3 3 line three
  4 4 this is line four
  5 5 line five
[zafar1@linux ~]$ head -15 file2
1 1 line one
  2 2 line two
  3 3 line three
  4 4 this is line four
  5 5 line five
  6 6 line six
  7 7 line seven
  8 8 line eight
  9 9 line 9
 10 10 line 10
 11 11 line 11
 12 12 line 12
 13 1 line one
 14 2 line two
 15 3 line three
tail
- Reads from the bottom of the file
- Default is bottom 10 lines
- 
[zafar1@linux ~]$ tail file2
 17 5 line five
 18 6 line six
 19 7 line seven
 20 8 line eight
 21 9 line 9
 22 10 line 10
 23 11 line 11
 24 12 line 12
 25



[zafar1@linux ~]$ tail -5 file2
 22 10 line 10
 23 11 line 11
 24 12 line 12
 25

[zafar1@linux ~]$ tail -12 file2
 15 3 line three
 16 4 this is line four
 17 5 line five
 18 6 line six
 19 7 line seven
 20 8 line eight
 21 9 line 9
 22 10 line 10
 23 11 line 11
 24 12 line 12
more

- Primary use is to read huge file
- This will load the file into memory
- Use the enter key to scroll by line
- Use spacebar on the keyboard to scroll page by page
- q to quit


[zafar1@linux ~]$ more messages

less

- This is similar to more command
- But it will only load the output as needed into memory
- Use the enter key to scroll by line
- Use spacebar on the keyboard to scroll page by page
- q to quit

[zafar1@linux ~]$ less messages

sort
- sorts the file alphabetically
- [zafar1@linux ~]$ cat file1
apple
berry
berry
strawberry
pineapple
pineapple
mango
orange
apple
melon


[zafar1@linux ~]$ uniq file1 | sort -r
strawberry
pineapple
orange
melon
mango
berry
apple
apple
Uniq
- Removed duplicate lines 


[zafar1@linux ~]$ cat file1
apple
berry
berry
strawberry
pineapple
pineapple
mango
orange
apple
melon



[zafar1@linux ~]$ uniq file1
apple
berry
strawberry
pineapple
mango
orange
apple
melon
Assignment - 01
Submit assignment using template - and post in WhatsApp Group

1.       What is your pwd

2.       Explain input and output

3.       Who is logged in now?

4.       Remove all content from your pwd before you begin below

5.       Create five files example team01 to team05

6.       Create another five file with random name

7.       Create some hidden files

8.       show the long list of the files

9.       Filter files with similar same

10.   Delete only a specific file of your choice

11.   Show history and run a command from history

12.   Create five folders with random names

13.   Delete hidden files only you created

14.   Run tree command

15.   What is used to represent a pwd
Assignment - 02
Submit assignment using template - and post in WhatsApp Group




Note: use the command rm -rf * to delete everything from your directory

1.  Create directory structure in your own home directory using the diagram as visual cues.

2.  Use -p switch where ever deemed necessary.

3.  Name the directories as shown in picture,

4.  Create the files as show in diagram inside directory.

5.  Run tree command and put picture in the Group Chat.

6.  Perform A to E - put picture in Group Chat.


a. Copy file1 and file2 from binder1 to folder1
b. Move file3 to folder1
c. Move directory student1 to dir2
d. What is the absolute path of folder2
e. What is the relative path of binder1
 

2.  Go to folder2 using absolute path from home directory

3.  From folder2 go back to your home directory using ..

4   Go to binder1 using relative path

5   Were you able to use period [.] in any of the assignment when making a move or copy?
Assignment - 03
Submit assignment using template - and post in WhatsApp Group

1.       Practice Vi Editor as much as possible.
 
2.       Create file1 file2 and file3 using vi editor, add you own text about 5 lines each.
 
3.       Cat file1
 
4.       Cat file2
 
5.       Cat file3
 
6.       Cat file2 but send output to file named file2output.
 
7.       Cat file2 but this time send output to file3 keeping the original content of file3 as is.
 
8.       Cat file2 and file3 and send output to 23output.
 
9.       Perform ls -l but send the output to file name ls-loutput.
 
10.   Create a shell script with your on commands, upto 5 commands.
 
11.   Run the script you created in question 10, but send output to shellscript11.
 
12.   Create a alias of your choice and name, show me how you would create alias.
 
13.   Run the alias from question 12.
 
14.   What would you do to delete alias?
 
15.   Run the alis from question 12 but send the output to file named alias12output.

12-21-2021Date


[zafar1@linux ~]$ date
Sat Dec 21 09:17:59 EST 2024

[zafar1@linux ~]$ cal
    December 2024
Su Mo Tu We Th Fr Sa
 1  2  3  4  5  6  7
 8  9 10 11 12 13 14
15 16 17 18 19 20 21
22 23 24 25 26 27 28
29 30 31

[zafar1@linux ~]$ cal 12 1969
    December 1969
Su Mo Tu We Th Fr Sa
    1  2  3  4  5  6
 7  8  9 10 11 12 13
14 15 16 17 18 19 20
21 22 23 24 25 26 27
28 29 30 31
who
- Displays who is logged in

[zafar1@linux ~]$ who
root     tty1         2024-10-11 17:20
zafar1   pts/0        2024-12-21 09:00 (71.201.24.60)
hamid    pts/1        2024-12-21 09:17 (71.201.24.60)
uzair    pts/2        2024-12-21 09:17 (71.201.24.60)
Last

- Displays the login 
Last | grep reboot

- Displays the system reboot time


[zafar1@linux ~]$ last | grep reboot
reboot   system boot  4.18.0-348.2.1.e Fri Oct 11 17:17   still running
reboot   system boot  4.18.0-348.2.1.e Thu Aug 29 11:11   still running
reboot   system boot  4.18.0-348.2.1.e Tue Apr 16 21:48   still running
Free -h
- Displays memory information

[zafar1@linux ~]$ free -h
              total        used        free      shared  buff/cache   available
Mem:          1.8Gi       479Mi       108Mi        97Mi       1.2Gi       1.0Gi
du
- Display the usage information of the file or folder

[zafar1@linux ~]$ du messages
1164    messages
[zafar1@linux ~]$ du -h messages
1.2M    messages


[zafar1@linux ~]$ du messages
1164    messages
[zafar1@linux ~]$ du -h messages
1.2M    messages
[zafar1@linux ~]$ du -h *
4.0K    file1
4.0K    file2
1.2M    messages
top
- Displys the real time information about system status
- Cpu, memory, processes

top - 09:37:30 up 70 days, 17:19,  6 users,  load average: 0.11, 0.08, 0.02
Tasks: 176 total,   3 running, 173 sleeping,   0 stopped,   0 zombie
%Cpu(s):  1.8 us,  1.7 sy,  0.0 ni, 96.0 id,  0.0 wa,  0.3 hi,  0.2 si,  0.0 st
MiB Mem :   1817.0 total,    161.0 free,    478.1 used,   1177.8 buff/cache
MiB Swap:   1640.0 total,   1630.4 free,      9.6 used.   1059.0 avail Mem

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
2844771 zafar1    20   0   65420   5344   4492 R   1.0   0.3   0:00.13 top
    998 root      20   0  496684  29348  12720 S   0.7   1.6 365:10.34 tuned
2844780 hamid     20   0   65424   4316   3680 R   0.7   0.2   0:00.12 top
2844781 uzair     20   0   65432   4484   3840 S   0.7   0.2   0:00.10 top
2844799 root      20   0   92356   7256   6352 S   0.7   0.4   0:00.02 sshd
   1785 dnsmasq   20   0   73324   2264   1832 S   0.3   0.1  27:59.02 dnsmasq

Lscpu
- Displays the number of CPU system has

[zafar1@linux ~]$ lscpu
Architecture:        x86_64
CPU op-mode(s):      32-bit, 64-bit
Byte Order:          Little Endian
CPU(s):              2
On-line CPU(s) list: 0,1
Thread(s) per core:  1
Core(s) per socket:  2
Socket(s):           1
NUMA node(s):        1
Vendor ID:           GenuineIntel
CPU family:          6
Model:               42
Model name:          Intel(R) Core(TM) i5-2500 CPU @ 3.30GHz
Stepping:            7
CPU MHz:             3292.536
BogoMIPS:            6585.07
Hypervisor vendor:   KVM
Virtualization type: full
L1d cache:           32K
L1i cache:           32K
L2 cache:            256K
L3 cache:            6144K
NUMA node0 CPU(s):   0,1
Flags:               fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc cpuid tsc_known_freq pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 x2apic popcnt aes xsave avx hypervisor lahf_lm pti flush_l1d
Which
- Displays if the command or package is installed

[zafar1@linux ~]$ which tree
/usr/bin/tree
[zafar1@linux ~]$
[zafar1@linux ~]$ which tomcat
/usr/bin/which: no tomcat in (/home/zafar1/.local/bin:/home/zafar1/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin)

[zafar1@linux ~]$ which firefox
/usr/bin/firefox
Gzip 

- Zips and compresses the file
- It sadds the extension with .gz

[zafar1@linux ~]$ du -h messages
1.0G    messages
[zafar1@linux ~]$ gzip messages
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l messages.gz
-rwxr-xr-x. 1 zafar1 zafar1 46113926 Dec 21 09:47 messages.gz
[zafar1@linux ~]$ du -h messages.gz
44M     messages.gz
Gunzip
- Unxips and uncompresses the file


[zafar1@linux ~]$ gunzip messages.gz

[zafar1@linux ~]$ du -h messages
851M    messages

[zafar1@linux ~]$ ls -l messages
-rwxr-xr-x. 1 zafar1 zafar1 892289385 Dec 21 09:47 messages

[zafar1@linux ~]$ ls -l
total 871388
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file1
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file2
drwxrwxr-x. 2 zafar1 zafar1         6 Dec 21 09:55 folder1
-rwxr-xr-x. 1 zafar1 zafar1 892289385 Dec 21 09:47 messages
[zafar1@linux ~]$ mv * folder1/
mv: cannot move 'folder1' to a subdirectory of itself, 'folder1/folder1'
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l
total 0
drwxrwxr-x. 2 zafar1 zafar1 48 Dec 21 09:55 folder1
[zafar1@linux ~]$ ls -l folder1
total 871388
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file1
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file2
-rwxr-xr-x. 1 zafar1 zafar1 892289385 Dec 21 09:47 messages
tar

- It saves the folder/ directory to single file
- It does not compress the tar file
- It keeps the original folder and creates new as file

- This makes copying or moving folder easy
- This keeps the data integrity of the content, especially copied over network
- You can use gzip and gunzip to compress and unmpress the folder

[zafar1@linux ~]$ du -h folder1
851M    folder1
[zafar1@linux ~]$ tar -cvf folder1.tar folder1/
folder1/
folder1/file1
folder1/file2
folder1/messages

-cvf 

C= create
V= verbose
F=folder

[zafar1@linux ~]$ ls -l
total 871392
drwxrwxr-x. 2 zafar1 zafar1        48 Dec 21 09:55 folder1
-rw-rw-r--. 1 zafar1 zafar1 892303360 Dec 21 10:02 folder1.tar
[zafar1@linux ~]$ du -h folder1.tar
851M    folder1.tar


[zafar1@linux ~]$ gzip folder1.tar
[zafar1@linux ~]$ ls -l
total 45036
drwxrwxr-x. 2 zafar1 zafar1       48 Dec 21 09:55 folder1
-rw-rw-r--. 1 zafar1 zafar1 46114216 Dec 21 10:02 folder1.tar.gz

[zafar1@linux ~]$ du -h folder1.tar.gz
44M     folder1.tar.gz
[zafar1@linux ~]$

- Tar should be untar in the different location than the file originates


[zafar1@linux ~]$ mkdir directory1
[zafar1@linux ~]$ mv folder1.tar directory1/
[zafar1@linux ~]$ ls -l
total 0
drwxrwxr-x. 2 zafar1 zafar1 25 Dec 21 10:18 directory1
drwxrwxr-x. 2 zafar1 zafar1 48 Dec 21 09:55 folder1
[zafar1@linux ~]$ cd directory1/
[zafar1@linux directory1]$ ls -l
total 871392
-rw-rw-r--. 1 zafar1 zafar1 892303360 Dec 21 10:02 folder1.tar

[zafar1@linux directory1]$ tar -xvf folder1.tar
folder1/
folder1/file1
folder1/file2
folder1/messages



x= extract
v= verbose
f=folder

[zafar1@linux directory1]$ ls -l
total 871392
drwxrwxr-x. 2 zafar1 zafar1        48 Dec 21 09:55 folder1
-rw-rw-r--. 1 zafar1 zafar1 892303360 Dec 21 10:02 folder1.tar

[zafar1@linux directory1]$ pwd
/home/zafar1/directory1
[zafar1@linux directory1]$ ls -l
total 871392
drwxrwxr-x. 2 zafar1 zafar1        48 Dec 21 09:55 folder1  < --- after untaring
-rw-rw-r--. 1 zafar1 zafar1 892303360 Dec 21 10:02 folder1.tar

[zafar1@linux directory1]$ ls -l folder1
total 871388
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file1
-rw-rw-r--. 1 zafar1 zafar1        74 Dec 14 11:54 file2
-rwxr-xr-x. 1 zafar1 zafar1 892289385 Dec 21 09:47 messages
[zafar1@linux directory1]$ pwd
/home/zafar1/directory1
Tar and zip using single command

[zafar1@linux ~]$ ll
total 0
drwxrwxr-x. 3 zafar1 zafar1 40 Dec 21 10:19 directory1
drwxrwxr-x. 2 zafar1 zafar1 48 Dec 21 09:55 folder1
[zafar1@linux ~]$ rm -rf directory1/


[zafar1@linux ~]$ ls -l
total 0
drwxrwxr-x. 2 zafar1 zafar1 48 Dec 21 09:55 folder1
[zafar1@linux ~]$
[zafar1@linux ~]$ tar -czf folder1.tar.gz folder1
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l
total 45036
drwxrwxr-x. 2 zafar1 zafar1       48 Dec 21 09:55 folder1
-rw-rw-r--. 1 zafar1 zafar1 46114204 Dec 21 10:27 folder1.tar.gz


c=create
z=using gzip command
f=folder
Untar and unzip single file
[zafar1@linux ~]$ mkdir directory
[zafar1@linux ~]$
[zafar1@linux ~]$ tar -xzf folder1.tar.gz -C directory
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -l directory/
total 0
drwxrwxr-x. 2 zafar1 zafar1 48 Dec 21 09:55 folder1   < --- original folder, but it new loacation
Stat
- Displays the detailed file information
- 

[zafar1@linux ~]$ stat messages
  File: messages
  Size: 892289385       Blocks: 1742760    IO Block: 4096   regular file
Device: fd00h/64768d    Inode: 9316419     Links: 1
Access: (0755/-rwxr-xr-x)  Uid: ( 1085/  zafar1)   Gid: ( 1085/  zafar1)
Context: unconfined_u:object_r:user_home_t:s0
Access: 2024-12-21 10:02:05.829060456 -0500
Modify: 2024-12-21 09:47:28.584649467 -0500
Change: 2024-12-21 10:58:37.539801839 -0500
 Birth: 2024-12-21 09:52:05.429357093 -0500
inode
- It is table on the disk holding the file information
- Owner of the file
- Group of the file
- Type of file
- Permissions
- Data and time dot he file modified and accessed
- Number links
- Size of the file 
- Block information

Block information
One bit is bit = 1 bit  = 1x1
Eight bit is byte = 1 byte = 2x3
Kilo byte = 1024 = - 1 kilo byte = 2x10
4096 = 4 kb = default disk size





4096 = 4kb - minimum useable disk space


File sizeDisk space0 4 kb1 kb 4 kb2 kb4 kb5 kb8 kb21 kb24 kb





link
- Two types fo links for a file
- Hard link and soft link
Hard link
- It has same inode number
- You have to provide source and destination
- Any change to either file will be update on both sides
- Essentially hard link is duplicate of each other
- You can use this as backup
- If the original file is deleted the hard link still survives
- Hard link is not possible on folders
Ln
- Provide source and destination
- Destination can be different
- 

[zafar1@linux ~]$ ln file1 chicago/iowa/file2   < -- provide source and destination while creating
[zafar1@linux ~]$ tree
.
??? chicago
?   ??? iowa
?       ??? file2
??? file1
??? messages

2 directories, 3 files
[zafar1@linux ~]$
[zafar1@linux ~]$ ls -i file1
9316416 file1

[zafar1@linux ~]$ ls -i chicago/iowa/file2
9316416 chicago/iowa/file2



[zafar1@linux ~]$ echo "This is a hard link file for file1" > file1
[zafar1@linux ~]$
[zafar1@linux ~]$ cat file1
This is a hard link file for file1
[zafar1@linux ~]$
[zafar1@linux ~]$
[zafar1@linux ~]$ cat chicago/iowa/file2
This is a hard link file for file1


[zafar1@linux ~]$ echo "yes this is hard link: file2" >> chicago/iowa/file2
[zafar1@linux ~]$
[zafar1@linux ~]$ cat file1
This is a hard link file for file1
yes this is hard link: file2

hard linked file gets upated
If either deleted, other firle still survives


[zafar1@linux ~]$ tree
.
??? chicago
?   ??? iowa
?       ??? file2
??? file1
??? messages

2 directories, 3 files
[zafar1@linux ~]$ rm -rf file1


[zafar1@linux ~]$ tree
.
??? chicago
?   ??? iowa
?       ??? file2
??? messages

2 directories, 2 files
[zafar1@linux ~]$
Soft linkSoft link

- Symbolic link - sym link
- You have to provide ABSOLUTE path for the source and destination
- Soft link has different inodes number
- Most fo the time soft links are used for reading data or restricting access
- Editing soft link, actually updates the original file

- If the original file link is broken, links is use less
- Soft link is allowed for directories

ln -s
- -s will create soft link

[zafar1@linux ~]$ ln -s /home/zafar1/xfile1 /home/zafar1/chicago/iowa/zfile1

[zafar1@linux ~]$ tree
.
??? chicago
?   ??? iowa
?       ??? zfile1 -> /home/zafar1/xfile1
??? xfile1

2 directories, 2 files




[zafar1@linux ~]$
[zafar1@linux ~]$ ls -i xfile1
9316416 xfile1

[zafar1@linux ~]$ ls -i chicago/iowa/zfile1
27199912 chicago/iowa/zfile1

[zafar1@linux ~]$ echo "Thsi sis soft link" > chicago/iowa/zfile1
[zafar1@linux ~]$
[zafar1@linux ~]$ cat xfile1
Thsi sis soft link

[zafar1@linux ~]$ echo "Thsi sis soft link" > chicago/iowa/zfile1
[zafar1@linux ~]$
[zafar1@linux ~]$ cat xfile1
Thsi sis soft link

Original link get updated as well




[zafar1@linux ~]$ rm -rf xfile1
[zafar1@linux ~]$
[zafar1@linux ~]$ tree
.
??? chicago
    ??? iowa
        ??? zfile1 -> /home/zafar1/xfile1

2 directories, 1 file
[zafar1@linux ~]$ cat chicago/iowa/zfile1
cat: chicago/iowa/zfile1: No such file or directory


soft link is now orphaned

01-04-2025

find

- It finds the files in specific directory
- You can use absolute or relative path
- You can use name or inode number
Using name

[zafar1@linux ~]$ find /home/zafar1 -name file-one
/home/zafar1/illinoi/chicago/gurnee/file-one
To obtain id node number of a file

ls -i

[zafar1@linux ~]$ ls -i illinoi/chicago/gurnee/file-one
1045551 illinoi/chicago/gurnee/file-one
Using inode

[zafar1@linux ~]$ find /home/zafar1 -inum 1045551
/home/zafar1/illinoi/chicago/gurnee/file-one
01-04-2025
Directory Structure


/
- This is the top most directory
- This is referred as root directory
/root
- This is system admin home directory
/bin
- It contains all the binary commands for regular users
- This si soft link to /usr/bin
/boot
- It contains system bootable files
/dev
- It contains all the attached device information
- Example - hard drives, cd-rom, network cards etc.,

Very important when managing disk
/etc
- It contains all the configuration files
- In short - etsy

Very important/home
- This is home directory for users
- This is also home directory for application id [oracle, db2user, tomcat]
- Example /home/zafar1
/lib and /lib64
- it contains system binary files shard by application
- /lib is sym link for /usr/lib
- /lib64 is sym link for /usr/lib64
/media
- Blank folder for mounting cd-rom
- Usually unused
/mnt
- Blank folder for mounting cd-rom
- Unually unused
/opt
- It contain third party application software files
- Example - oracle db, SAP, or any other application
/proc
- It contains active memory information [system processes]
/run
- Unused
- Symlink to /var/run
/sbin
- This contains commands for root [administrator]
/srv
- Usually used for mounting cd-rom
/sys
/tmp
- This used to keep temporary files
- All userds have read and write permissions
- You can old delete what you wrote, you cannot other users files
- Root user have full permissions
/usr
- It contains all the system files and folders containing user commnds
- It contains optional commands not native to Linux
/var
- It keeps the system log and logs generated by installed application
- Log directory
01-04-2025
SSH - Secure Shell
The Secure Shell Protocol (SSH) is a cryptographic network protocol for operating network services securely over an unsecured network. Typical applications include remote command-line, login, and remote command execution, but any network service can be secured with SSH.
 







[root@test ~]# ssh 10.1.10.72
The authenticity of host '10.1.10.72 (10.1.10.72)' can't be established.
ECDSA key fingerprint is SHA256:IWXRRLvzxzkfEFEZLLiZIZkAzqPOY1ZnY2yKYwhM9U8.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added '10.1.10.72' (ECDSA) to the list of known hosts.
root@10.1.10.72's password:
Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Sat Jan  4 10:34:41 2025
[root@test ~]# ip a
4: enp0s9: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:61:33:86 brd ff:ff:ff:ff:ff:ff
    inet 10.1.10.72/24 brd 10.1.10.255 scope global dynamic noprefixroute enp0s9
       valid_lft 602594sec preferred_lft 602594sec
    inet6 2603:300a:1501:e100:a00:27ff:fe61:3386/64 scope global dynamic mngtmpaddr noprefixroute
       valid_lft 308072sec preferred_lft 308072sec
    inet6 fe80::a00:27ff:fe61:3386/64 scope link noprefixroute
       valid_lft forever preferred_lft forever

[root@test ~]# exit
logout
Connection to 10.1.10.72 closed.

[root@test ~]# hostname
test.zmpt.com
[root@test ~]# hostnamectl set-hostname zafar1.zmpt.com
[root@test ~]# hostname
zafar1.zmpt.com


Connecting with specific user id
Connecting to any server directly with root user id is a security violation 

Connect using user id zmpt



Switch to root
sudo su -
- Switch to root from regular user
- Password for sudo user
01-11-2025Passwordless SSH


[zafar1@linux ~]$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/home/zafar1/.ssh/id_rsa):                 < --- hit enter
Enter passphrase (empty for no passphrase):                                                < --- hit enter
Enter same passphrase again:                                                                           < --- hit enter

Your identification has been saved in /home/zafar1/.ssh/id_rsa.             < ---- Grenerates Private key
Your public key has been saved in /home/zafar1/.ssh/id_rsa.pub.           < ---- Generates Public key

The key fingerprint is:
SHA256:4OKDIBDdjW9bFyOhX/qKkE/1gnqTjgCRhpnZouhfaWk zafar1@linux.zmpt.com
The key's randomart image is:
+---[RSA 3072]----+
|.. . o  ..       |
|.B. o ... o      |
|X..  .o  ..o     |
|=o   .oo.o.      |
|*   ...oS.       |
|oo o o+o o       |
| .o =Eo.. o      |
|  ..+B+. o       |
|   .oo+..        |
+----[SHA256]-----+
informational

[zafar1@linux .ssh]$ ls -la
total 16
drwx------. 2 zafar1 zafar1   80 Dec  7  2022 .
drwx------. 9 zafar1 zafar1  245 Jan  4 09:28 ..
-rw-------. 1 zafar1 zafar1  403 Dec  7  2022 authorized_keys
-rw-------. 1 zafar1 zafar1 2610 Jan 11 09:20 id_rsa
-rw-r--r--. 1 zafar1 zafar1  575 Jan 11 09:20 id_rsa.pub
-rw-r--r--. 1 zafar1 zafar1 1043 Jan  4 10:53 known_hosts


[zafar1@linux .ssh]$ ssh-copy-id zmpt@10.1.10.123
/usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/home/zafar1/.ssh/id_rsa.pub"
/usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
/usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
zmpt@10.1.10.123's password:

Number of key(s) added: 1

Now try logging into the machine, with:   "ssh 'zmpt@10.1.10.123'"
and check to make sure that only the key(s) you wanted were added.


[zafar1@linux .ssh]$ ssh zmpt@10.1.10.123
Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Sat Jan 11 08:43:04 2025 from 10.1.10.252


[zafar1@linux .ssh]$ ssh zmpt@10.1.10.123
Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

Last login: Sat Jan 11 08:43:04 2025 from 10.1.10.252
[zmpt@zafar1 ~]$ hostname
zafar1.zmpt.com

Source host


[zafar1@linux .ssh]$ ls -l
total 16
-rw-------. 1 zafar1 zafar1  403 Dec  7  2022 authorized_keys
-rw-------. 1 zafar1 zafar1 2610 Jan 11 09:20 id_rsa
-rw-r--r--. 1 zafar1 zafar1  575 Jan 11 09:20 id_rsa.pub
-rw-r--r--. 1 zafar1 zafar1 1043 Jan  4 10:53 known_hosts
[zafar1@linux .ssh]$ cat id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDXMRTBgc2KORH/yaeAGlkXndWn5P3ij96Eng4
pItwoASalZy6xIZ2AHEYxPuj6G+ca0FrLJof8dCW5mrPRvVC0srVUJ2MJkJZsfiZ5Ofzp4XhPtRjJcnchv
fFc9vkWdCTey7ZrkTvFUHhzThYqSmpmYsXdC1XlgIDwtRmWZcMVpqEezBE0xJXnSd1Z9kiSBw0Md
y6Nki9Z9kROoVqrRWAMzgoyOUsrJP+AtCB1RTrg+cBWVyn97KMsIf9+4p1rHZ+irrFcM10/2tl9EM
OLfWjUVXu+9JDDU/TmETZwvZTXg17YMQhe6wpT/Yrj7YXtFg7CBfGL+NbXr9iOKMiiKDAi80Z5CsF
amROEpTgBaFhBeYkUdlb9vlDXFiDVSMwUJ+oJB0GjCgsVA1sroaNacrmvyNB9nR6N8kP7Vp20vEyS
lYOKyblV7MdZjBRtexbuihERzwWa4ANOTuQVdz+wQuZmT3bzSPDvCVVcveqqvnKNN04+CPnmT
jw3xIblGkc/uLE= zafar1@linux.zmpt.com




Destination host

[zmpt@zafar1 .ssh]$ cat authorized_keys
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDXMRTBgc2KORH/yaeAGlkXndWn5P3ij96Eng
4pItwoASalZy6xIZ2AHEYxPuj6G+ca0FrLJof8dCW5mrPRvVC0srVUJ2MJkJZsfiZ5Ofzp4XhPtRjJcnc
hvfFc9vkWdCTey7ZrkTvFUHhzThYqSmpmYsXdC1XlgIDwtRmWZcMVpqEezBE0xJXnSd1Z9kiSBw
0Mdy6Nki9Z9kROoVqrRWAMzgoyOUsrJP+AtCB1RTrg+cBWVyn97KMsIf9+4p1rHZ+irrFcM10/2
tl9EMOLfWjUVXu+9JDDU/TmETZwvZTXg17YMQhe6wpT/Yrj7YXtFg7CBfGL+NbXr9iOKMiiKDAi
80Z5CsFamROEpTgBaFhBeYkUdlb9vlDXFiDVSMwUJ+oJB0GjCgsVA1sroaNacrmvyNB9nR6N8k
P7Vp20vEySlYOKyblV7MdZjBRtexbuihERzwWa4ANOTuQVdz+wQuZmT3bzSPDvCVVcveqqvn
KNN04+CPnmTjw3xIblGkc/uLE= zafar1@linux.zmpt.com
[zmpt@zafar1 .ssh]$ exit
logout
Connection to 10.1.10.123 closed.
Disable root ssh
[root@zafar1 ~]# vi /etc/ssh/sshd_config


     42 #LoginGraceTime 2m
     43 PermitRootLogin no          < --- disable line 43 set to no
     44 #StrictModes yes
     45 #MaxAuthTries 6
     46 #MaxSessions 10


[root@zafar1 ~]# systemctl restart sshd
[root@zafar1 ~]#
[root@zafar1 ~]# exit
logout
Connection to 10.1.10.123 closed.


Now the direct root access is disabled


[zafar1@linux ~]$ ssh root@10.1.10.123
root@10.1.10.123's password:
Permission denied, please try again.
root@10.1.10.123's password:
Permission denied, please try again.
root@10.1.10.123's password:
01-11-2025
User Administration

Root - Administrator - super user
- Root users have the highest level of access
- Root user cannot be renamed
- Never share root password
- Don’t put password in chats or text messages
- Root user can access company data

You login as regular user to ther server

[zmpt@zafar1 ~]$ whoami
Zmpt

switch to root user
[zmpt@zafar1 ~]$ sudo su -

- Sudo  - switch user do
- Su - switch user
- - root
Switch to root user

[zmpt@zafar1 ~]$ sudo su -
[sudo] password for zmpt:
[root@zafar1 ~]#
[root@zafar1 ~]# whoami
root
[root@zafar1 ~]# pwd
/root



Create user 
[root@zafar1 ~]# useradd terminator

/etc/passwd gets updated

terminator:x:1001:1001::/home/terminator:/bin/bash


userCheck for passordUser idGroup idUser textUser home Shell typeterminatorx10011001/home/termintor/bin/bash


[root@zafar1 ~]# id terminator
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator)
[root@zafar1 ~]#


[root@zafar1 ~]# id 1001
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator)


UID - User IdGID - user primary groupGroup User is part ofuid=1000(terminator)gid=1000(terminator)groups=1000(terminator)
Become terminator

[root@zafar1 ~]# su - terminator
[terminator@zafar1 ~]$
Set password

[root@zafar1 ~]# passwd terminator
Changing password for user terminator.
New password:
BAD PASSWORD: The password is shorter than 8 characters
Retype new password:
passwd: all authentication tokens updated successfully.

/etc/shadow - file gets updated for password



UserPassword hashDec 31 1969Grace periodExpiry Warningterminator$6$16fj…200990607
Group file /etc/group
terminator:x:1001:

userCheck for passordGroup idterminatorx1001
Where is all the setting defined for user, group and password
[root@zafar1 ~]# cat /etc/login.defs


PASS_MAX_DAYS   60
PASS_MIN_DAYS   0
PASS_MIN_LEN    5
PASS_WARN_AGE   7

#
# Min/max values for automatic uid selection in useradd
#
UID_MIN                  3000
UID_MAX                 60000
# System accounts
SYS_UID_MIN               201
SYS_UID_MAX               999

#
# Min/max values for automatic gid selection in groupadd
#
GID_MIN                  4000
GID_MAX                 60000
Test to see if the changes are working 

[root@zafar1 ~]# useradd xmen
[root@zafar1 ~]#
[root@zafar1 ~]# id xmen
uid=3000(xmen) gid=4000(xmen) groups=4000(xmen)
[root@zafar1 ~]# cat /etc/shadow | grep xmen
xmen:!!:20099:0:60:7:::
Create user manually
[root@zafar1 ~]# vi /etc/passwd

spiderman:x:3003:4003::/home/spiderman:/bin/bash

[root@zafar1 ~]# cat /etc/group | grep spiderman
spiderman:x:4003:


[root@zafar1 ~]# vi /etc/shadow
[root@zafar1 ~]# cat /etc/shadow | grep spiderman
spiderman:$6$16fj/n7rP7TWSDta$AzqIFeNDURRUV2EcTkyUT1q
9wQyWu1Y2yKp0DzlVXm9lS5TJC/mqZJUXeyUr
o4SXpzpRkP0lY6BbPamFzEFhM.:20099:0:99999:7:::
Create home directory	

[root@zafar1 ~]# mkdir -p /home/spiderman
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /home/spiderman
drwxr-xr-x. 2 root root 6 Jan 11 11:51 /home/spiderman
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /home/terminator
drwx------. 4 terminator terminator 113 Jan 11 11:14 /home/terminator
[root@zafar1 ~]#
[root@zafar1 ~]# chown 3003:4003 /home/spiderman
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /home/spiderman
drwxr-xr-x. 2 spiderman spiderman 6 Jan 11 11:51 /home/spiderman
Login from jump host

[zafar1@linux ~]$ ssh spiderman@10.1.10.123
spiderman@10.1.10.123's password:
Activate the web console with: systemctl enable --now cockpit.socket

This system is not registered to Red Hat Insights. See https://cloud.redhat.com/
To register this system, run: insights-client --register

[spiderman@zafar1 ~]$ pwd
/home/spiderman
Assignment 04
1.       Create a file search01.
 
2.       Use find command to search file search01 in /home, redirect good output to filename good01 and errors to error01.
 
3.       What is function of /dev/null.
 
4.       Create a file name question04 and add 15 lines of text.
 
5.       For file created in 4 show me how grep, wc, head, tail, sort, uniq is being used.
 
6.       Explain me uniq command, what it does?
 
7.       What does tail -f do to a file.
 
8.       Practice date, cal, who, w, last, free -h, top, which.
 
9.       What is the size of file /tmp/assignment-04.
 
10.   Using pipe method grep superhero in /tmp/assignment-04, then grep spiderman.
 
11.   Using same file grep superhero in /tmp/assignment-04, then grep spiderman, then wc.
 
12.   Create a script using command what you have learnt so far.
Assignment 05
Note: Remove everything from your home directory rm -rf *
 
1. Copy /tmp/assignment-05 to your home direcoty
 
2. What is the size of the file assignment-05
 
3. What is the size of file after zipping file assignment-05
 
4. Gunzip the file you just zipped in 3
 
5. Create a folder and move assignment-05 to it and tar it
 
6. Did the size of the tar file changed compared to size of assignment-05
 
7. Untar the folder you tar in 5, how would you do that?
 
8. Create a file named ‘bigfoot’, find the inode number
 
9. create a soft link and hard link for file ‘bigfoot’
 
10. Explain soft link and hard link
 
11. Create a directory, add some content to it and create a soft link in some other location.
 
12. Give me example how a man pages can be used.

Assignment 06
Note: Remove everything from your home directory rm -rf *
 
1.       What is the top most directory
 
2.       Explain three different references of term ‘root’
 
3.       Whats the significance ot /dev, /etc directories


Setup passwordless SSH to all hosts

a.       Main server to your hosts and back using your id - both directions
b.       Your servers using your id and root id - both directions
       

 

 

Commands to use
-          ssh-keygen
-          ssh-copy-id


a.       hostnamectl set-hostname zafar01.zmpt.com
b.       hostnamectl set-hostname zafar02.zmpt.com
c.       hostnamectl set-hostname zafar03.zmpt.com
01-18-2025User Administration continuedGrant SUDO access to user
SUDO = Super User Do
Super user access - full root access
- It allows regular user to run root commands and become root

[root@zafar1 ~]# usermod -aG wheel terminator

Usermod-aGWheel TerminatorCommand-a add
-G secondary groupGroup name / IDUser name / id 




Test terminator root access

[terminator@zafar1 ~]$ sudo su -

We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

[sudo] password for terminator:
[root@zafar1 ~]# 
Run sodo command without actually switching to root
[terminator@zafar1 ~]$ sudo passwd xmen
[sudo] password for terminator:
Changing password for user xmen.
New password:
BAD PASSWORD: The password is shorter than 8 characters
Retype new password:
passwd: all authentication tokens updated successfully.
01-18-2025

Permissions
	
[root@zafar1 ~]# ls -l
total 0
[root@zafar1 ~]# touch file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l
total 0
-rw-r--r--. 1 root root 0 Jan 18 10:01 file


-rw-r--r--. 1 root root 0 Jan 18 10:01 file

Very first ‘-‘ is not part of permission, but it indicates it’s a file

User - uGroup - gOther - oReadWriteExecuteReadWriteExecuteReadWriteExecuterwx rwx rwx 421421421
Read = 4
Write = 2
Exexute = 1

Read = read the file, read permission
Write = write into file, edit permissions
Execute = for script file, execute file, delete file or folder

Lets calculate number value for file

-rw-r--r--. 1 root root 0 Jan 18 10:01 file

User/ ownerGroupOthersrw-r--r--644
So the final permission number for file is 644

This is a default permission for file in Linux system for root user

Modify permissions
Grant ‘rw’ permission to all

User - rw - 6
Group - rw - 6
Other - rw - 6 


[root@zafar1 ~]# chmod 666 file              #< --- chmod will modify the permissions
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l
total 0
-rw-rw-rw-. 1 root root 0 Jan 18 10:01 file

Notice all users have read write permissions now.

Grant additional execute permission to group

have
rw-rw-rw-

need
rw-rw-rw-

rw = 4+2 = 6
rwx = 4+2+1 = 7
rw = 4+2 = 6

final number to use with chmod 676


[root@zafar1 ~]# chmod 676 file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l file
-rw-rwxrw-. 1 root root 0 Jan 18 10:01 file

Take away all the permission for everybody

rw = 0+0 = 0
rwx = 0+0+0 = 0
rw = 0+0 = 0


final number to use with chmod 000



[root@zafar1 ~]# chmod 000 file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l file
----------. 1 root root 0 Jan 18 10:01 file


regardless of permissions set, root user has unrestricted permisions
 
Note: if you are modifying permissions using number, it must be three digits

Modifying permissions using letters
Grant read and write permission only to user/ owner

rw- = 4+2+0 = 6
--- = 0+0+0 = 0
--- = 0+0+0 = 0

Required permission is 600 

But we need to do this using letters

U = rw
G = ---
O = ---

[root@zafar1 ~]# chmod u+rw file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l file
-rw-------. 1 root root 30 Jan 18 10:49 file

Grant everybody read and write permsisions

-rw-rw-rw- = 666 = ugo+rw


U = rw
G = rw
O = rw



[root@zafar1 ~]# chmod ugo+rw file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l
total 4
-rw-rw-rw-. 1 root root 30 Jan 18 10:49 file

Remove write permission to other

have
rw-rw-rw-

need
rw-rw-r—

-rw-rw-r-- = 664 = o-w


[root@zafar1 ~]# chmod o-w file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l
total 4
-rw-rw-r--. 1 root root 30 Jan 18 10:49 file

Provide full permission to every one


[root@zafar1 ~]# chmod ugo+rwx file
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l file
-rwxrwxrwx. 1 root root 30 Jan 18 10:49 file

Informational 

[root@zafar1 ~]# mkdir dir1
[root@zafar1 ~]#
[root@zafar1 ~]# ls -l
total 4
drwxr-xr-x. 2 root root  6 Jan 18 11:04 dir1             #< --- directory - d
-rwxrwxrwx. 1 root root 30 Jan 18 10:49 file           #< --- file - ‘-‘


User is Yellow
Group is gray
Other is not shown

Directory permissions
drwxr-xr-x. 2 root root  6 Jan 18 11:04 dir1

very first ‘d’ is not part of permissions - it indicates directory/ folder


User - uGroup - gOther - oReadWriteExecuteReadWriteExecuteReadWriteExecuterwx rwx rwx 421421421

Read = 4
Write = 2
Execute = 1
 
 
Read = read the files in the directory
Write = creating new files in the directory
Execute = going inside the directory

Number value of permissions for dir1

drwxr-xr-x. 2 root root  6 Jan 18 11:04 dir1

User/ ownerGroupOthersrwxr-xr-x755
So the final permission number for file is 755 

755 is also default permission for directory in Linux System for root user



[root@zafar1 ~]# mkdir /userid
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /userid
drwxr-xr-x. 2 root root 6 Jan 18 11:19 /userid



[terminator@zafar1 ~]$ cd /userid/    #< -- user terminator is able to get inside this direcotry
[terminator@zafar1 userid]$ pwd
/userid
Remove all permissions for /userid


[root@zafar1 ~]# chmod 000 /userid
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /userid
d---------. 2 root root 6 Jan 18 11:19 /userid

	

[terminator@zafar1 ~]$ cd /userid/
-bash: cd: /userid/: Permission denied      < -- terminator is denied access
[terminator@zafar1 ~]$
UMASK
[root@zafar1 ~]# ls -l
total 4
drwxr-xr-x. 2 root root  6 Jan 18 11:04 dir1
-rwxrwxrwx. 1 root root 30 Jan 18 10:49 file

The permissions you are seeing are set by umask



[root@zafar1 ~]# umask
0022


SymbolicUsersGroupOthers0022

File Permission
File permissions are based on 666
 
 UsersGroupOthersDefaultSystem provided permissions666666Umask - removes the permission022022Final defualt permissions644644


Directory permission
Directory permissions are based on 777
 
 UsersGroupOthersDefaultSystem provided permissions777666Umask - removes the permission022022Final defualt permissions755755
Lets set umask to 0000
[root@zafar1 ~]# umask 0000
[root@zafar1 ~]#
[root@zafar1 ~]# umask
0000
[root@zafar1 ~]# touch file1
[root@zafar1 ~]# ls -l file1
-rw-rw-rw-. 1 root root 0 Jan 18 11:35 file1

[root@zafar1 ~]#
[root@zafar1 ~]# mkdir dir2
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld dir2
drwxrwxrwx. 2 root root 6 Jan 18 11:35 dir2
Group permission
Linux groups is a mechanism to manage a large collection of users and manage their permissions. All linux user have a User Id [UID] and Group Id [GID] by default


[root@zafar1 ~]# id terminator
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator),10(wheel)


UID - User IdGID - user primary groupGroup User is part ofuid=1001(terminator)gid=1001(terminator)groups=1001(terminator),
10(wheel) 

Create new group

[root@zafar1 ~]# groupadd -g 9000 machine

CommandPrimary groupGIDGroup Namegroupadd-g9000machine


[root@zafar1 ~]# usermod -aG 9000 terminator

[root@zafar1 ~]# id terminator
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator),10(wheel),9000(machine)


UID - User IdGID - user primary groupGroup User is part ofuid=1001(terminator)gid=1001(terminator)groups=1001(terminator),
10(wheel), 9000(machine)
01-25-2025

Assign folder permissions

[root@zafar1 ~]# mkdir /assignment
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /assignment/
drwxr-xr-x. 2 root root 6 Jan 18 11:55 /assignment/
Login as terminator
- the group has only read permission
- so a group user is able read file
- group user is not able to create file in the directory or edit existing file

[terminator@zafar1 assignment]$ pwd
/assignment
[terminator@zafar1 assignment]$ touch file1
touch: cannot touch 'file1': Permission denied


[terminator@zafar1 assignment]$ cat file1
this file is provides you mission information
Change group ownership and permissions

[root@zafar1 assignment]# chgrp 9000 .
[root@zafar1 assignment]#
[root@zafar1 assignment]# ls -ld .
drwxr-xr-x. 2 root machine 19 Jan 25 09:23 .


[root@zafar1 assignment]# chmod 775 /assignment/
[root@zafar1 assignment]#
[root@zafar1 assignment]# ls -ld /assignment/
drwxrwxr-x. 2 root machine 19 Jan 25 09:23 /assignment/
As terminator

[terminator@zafar1 assignment]$ touch file2
[terminator@zafar1 assignment]$ ls -l
total 4
-rw-r--r--. 1 root       root       56 Jan 25 09:23 file1                    < --- permissions not changed for existing files
-rw-rw-r--. 1 terminator terminator  0 Jan 25 09:39 file2        < --- now he can write

Change recursively permissions 

[root@zafar1 assignment]# chmod -R 775 /assignment/
[root@zafar1 assignment]#


[terminator@zafar1 assignment]$ ls -l
total 4
-rwxrwxr-x. 1 root       root       56 Jan 25 09:23 file1
-rwxrwxr-x. 1 terminator terminator  0 Jan 25 09:39 file2


[root@zafar1 assignment]# chgrp -R 9000 .


[terminator@zafar1 assignment]$ ls -l
total 4
-rwxrwxr-x. 1 root       machine 56 Jan 25 09:23 file1
-rwxrwxr-x. 1 terminator machine  0 Jan 25 09:39 file2
Remove user from group
[root@zafar1 assignment]# id terminator
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator),10(wheel),9000(machine)

[root@zafar1 assignment]# gpasswd -d terminator wheel
Removing user terminator from group wheel

CommandDeleteUser idGroup idgpasswd-dterminatorwheel

[root@zafar1 assignment]# id terminator
uid=1001(terminator) gid=1001(terminator) groups=1001(terminator),9000(machine)


[terminator@zafar1 ~]$ sudo su -
[sudo] password for terminator:
terminator is not in the sudoers file.  This incident will be reported.
Set Group ID
SGID: all the files that are created in a directory with SGID set belongs to the group to with the directory belongs. Not the group user belongs.

- Special permission set for directories
- When ever the user creates a file and direcories insde the SGID configure folder, it will inherit the Group
- Ownership of the SGID directory
- The group ownership is not retroactive.



[root@zafar1 ~]# mkdir /DATA
[root@zafar1 ~]# ls -ld /DATA/
drwxr-xr-x. 2 root root 6 Jan 25 10:04 /DATA/

Careate a standalone group

[root@zafar1 ~]# groupadd humans

[root@zafar1 ~]# cat /etc/group | grep humans
humans:x:9001:


[root@zafar1 ~]# chgrp 9001 /DATA/     < -- assign humans as group owner


[root@zafar1 ~]# ls -ld /DATA/
drwxr-xr-x. 2 root humans 6 Jan 25 10:04 /DATA/



[root@zafar1 ~]# chmod 757 /DATA/     < --- assign rwx to other


[root@zafar1 ~]# ls -ld /DATA/
drwxr-xrwx. 2 root humans 6 Jan 25 10:04 /DATA/
Create file as terminator


[terminator@zafar1 ~]$ cd /DATA
[terminator@zafar1 DATA]$ ls -l
total 0

[terminator@zafar1 DATA]$ touch file1
[terminator@zafar1 DATA]$

[terminator@zafar1 DATA]$ ls -l file1
-rw-rw-r--. 1 terminator terminator 0 Jan 25 10:39 file1

Now set SGID on /DATA


[root@zafar1 ~]# chmod g+s /DATA/
[root@zafar1 ~]#


[root@zafar1 ~]# ls -ld /DATA/
drwxr-srwx. 2 root humans 19 Jan 25 10:39 /DATA/   < --- now you can see ‘s’ as SGID for group




[terminator@zafar1 DATA]$ ls -l
total 0
-rw-rw-r--. 1 terminator terminator 0 Jan 25 10:39 file1
-rw-rw-r--. 1 terminator humans     0 Jan 25 10:45 file2
No matter who is creating the file, the group stays the same.


[terminator@zafar1 DATA]$ su -
Password:
[root@zafar1 ~]# su - spiderman
[spiderman@zafar1 ~]$ cd /DATA/
[spiderman@zafar1 DATA]$ ls -l .
total 0
-rw-rw-r--. 1 terminator terminator 0 Jan 25 10:39 file1
-rw-rw-r--. 1 terminator humans     0 Jan 25 10:45 file2


[spiderman@zafar1 DATA]$ ls -ld .
drwxr-srwx. 2 root humans 32 Jan 25 10:45 .
[spiderman@zafar1 DATA]$ touch file3
[spiderman@zafar1 DATA]$ ls -l
total 0
-rw-rw-r--. 1 terminator terminator 0 Jan 25 10:39 file1
-rw-rw-r--. 1 terminator humans     0 Jan 25 10:45 file2
-rw-rw-r--. 1 spiderman  humans     0 Jan 25 10:50 file3
Upper case S         SGID is set, then it means group does not have execute permissions

[root@zafar1 ~]# ls -ld /DATA/
drwxr-srwx. 2 root humans 45 Jan 25 10:50 /DATA/
[root@zafar1 ~]#
[root@zafar1 ~]# chmod g-x /DATA/
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /DATA/
drwxr-Srwx. 2 root humans 45 Jan 25 10:50 /DATA/       < --- S upper case
Set UID -SUID

SUID: the command inherits the owners execute permissions
-          SUID is used for the files for the execution purpose
-          It inherits the owners/root execute permission
-          Regular user does not have permissions
-          But still can update the file when executing the command
 

[root@zafar1 ~]# which passwd
/usr/bin/passwd

[root@zafar1 ~]# ls -l /usr/bin/passwd
-rwsr-xr-x. 1 root root 33544 Dec 13  2019 /usr/bin/passwd  < -- typical example for user running with root permission

Generally passwd command is allowed for regular user, but this command is updating/ editing /etc/shadow 


[root@zafar1 ~]# ls -l /etc/shadow
----------. 1 root root 1745 Jan 18 09:54 /etc/shadow


[spiderman@zafar1 ~]$ passwd
Changing password for user spiderman.
Current password:
New password:
Retype new password:
passwd: all authentication tokens updated successfully.


[root@zafar1 ~]# ls -l /etc/shadow
----------. 1 root root 1745 Jan 25 11:12 /etc/shadow


[root@zafar1 ~]# which sudo
/usr/bin/sudo
[root@zafar1 ~]# ls -l /usr/bin/sudo
---s--x--x. 1 root root 165640 Feb  3  2021 /usr/bin/sudo
Sticky Bit
Sticky Bit - it is a delete protection, if you are not root or owner of the file you cannot delete a file. This is folder level permission


[root@zafar1 ~]# ls -ld /tmp
drwxrwxrwt. 13 root root 4096 Jan 25 11:06 /tmp
Full permissiions to /DATA1


[root@zafar1 ~]# mkdir /DATA1
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /DATA1
drwxr-xr-x. 2 root root 6 Jan 25 11:20 /DATA1
[root@zafar1 ~]#
[root@zafar1 ~]# chmod 777 /DATA1
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /DATA1
drwxrwxrwx. 2 root root 6 Jan 25 11:20 /DATA1

[spiderman@zafar1 DATA1]$ pwd
/DATA1
[spiderman@zafar1 DATA1]$ touch file1
[spiderman@zafar1 DATA1]$
[spiderman@zafar1 DATA1]$ ls -l file1
-rw-rw-r--. 1 spiderman spiderman 0 Jan 25 11:22 file1
[spiderman@zafar1 DATA1]$

[spiderman@zafar1 DATA1]$ su - terminator
Password:
[terminator@zafar1 ~]$ cd /DATA1
[terminator@zafar1 DATA1]$ ls -l
total 0
-rw-rw-r--. 1 spiderman spiderman 0 Jan 25 11:22 file1

[terminator@zafar1 DATA1]$ rm -rf file1     < --- terminator is able to delete file created by spiderman
[terminator@zafar1 DATA1]$ ls -l
total 0

this is not good, to prevent this set sticky bit


[root@zafar1 ~]# chmod o+t /DATA1
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /DATA1
drwxrwxrwt. 2 root root 6 Jan 25 11:23 /DATA1    < --- sticky bit is set for others


[spiderman@zafar1 DATA1]$ touch file2
[spiderman@zafar1 DATA1]$ ls -l
total 0
-rw-rw-r--. 1 spiderman spiderman 0 Jan 25 11:27 file2
[spiderman@zafar1 DATA1]$ su - terminator
Password:
[terminator@zafar1 ~]$ cd /DATA1
[terminator@zafar1 DATA1]$
[terminator@zafar1 DATA1]$ ls -l
total 0
-rw-rw-r--. 1 spiderman spiderman 0 Jan 25 11:27 file2
[terminator@zafar1 DATA1]$ rm -rf file2
rm: cannot remove 'file2': Operation not permitted

FACL - File Access Control List

FACL (File Access Control List) in RHEL (Red Hat Enterprise Linux) is an advanced file permission system that allows you to define more granular access permissions than the traditional owner-group-other model of Unix-like systems. It provides the flexibility to assign permissions for individual users or groups on a per-file or per-directory basis.
FACL on directory

[root@zafar1 ~]# mkdir /BANK
[root@zafar1 ~]#
[root@zafar1 ~]# ls -ld /BANK/
drwxr-xr-x. 2 root root 6 Jan 25 11:35 /BANK/
[root@zafar1 ~]#
[root@zafar1 ~]# getfacl /BANK/
getfacl: Removing leading '/' from absolute path names
# file: BANK/
# owner: root
# group: root
user::rwx
group::r-x
other::r-x


[terminator@zafar1 BANK]$ touch file1
touch: cannot touch 'file1': Permission denied

[root@zafar1 ~]# setfacl -m u:terminator:rwx /BANK

setfacl -m u:terminator:rwx /BANK

detfacl-muterminatorrwx/BANKCommandmodifyUseruidpermissionFile/ directory



[root@zafar1 ~]# ls -ld /BANK/
drwxrwxr-x+ 2 root root 6 Jan 25 11:35 /BANK/    < --- + is indication of FACL

[root@zafar1 ~]# getfacl /BANK/
getfacl: Removing leading '/' from absolute path names
# file: BANK/
# owner: root
# group: root
user::rwx
user:terminator:rwx
group::r-x
mask::rwx
other::r-x



[terminator@zafar1 BANK]$ touch file1
[terminator@zafar1 BANK]$
[terminator@zafar1 BANK]$ ls -l
total 0
-rw-rw-r--. 1 terminator terminator 0 Jan 25 11:47 file1     < --- now terminator is able to write


FACL on File

[root@zafar1 BANK]# touch secret

[root@zafar1 BANK]# setfacl -m u:spiderman:rwx secret

[root@zafar1 BANK]# vi secret               < -- add content

[root@zafar1 BANK]# getfacl secret
# file: secret
# owner: root
# group: root
user::rw-
user:spiderman:rwx
group::r--
mask::rwx
other::r—


[spiderman@zafar1 BANK]$ vi secret

[spiderman@zafar1 BANK]$ getfacl .
# file: .
# owner: root
# group: root
user::rwx
user:terminator:rwx
group::r-x
mask::rwx
other::r-x

[spiderman@zafar1 BANK]$ cat secret
Terminate terminator

mission accomplished
Permissions cheat sheet

Identity UseruGroupgOtheroAlla 
Permission  Readr4Writew2Executex1 
Actions +Add permission‘-‘Remove permission=Make it only permission 
Examples
 
PermissionInformationg+wadds write access for the groupo-rwxremoves all permissions for othersu+xallows the file owner to execute the filea+rwallows everyone to read and write to the fileug+rallows the owner and group to read the fileg=rxallows only the group to read and execute (not writeg+wadds write access for the groupg=rxallows only the group to read and execute (not write)
  
PermissionNumericalInformation-rw-------600Only the owner has read and write permissions.-rw-r--r--644Only the owner has read and write permissions; the group and others have read only. DEFAULT-rwx------700Only the owner has read, write, and execute permissions.-rwxr-xr-x755The owner has read, write, and execute permissions; the group and others have only read and execute.-rwx--x--x711The owner has read, write, and execute permissions; the group and others have only execute.-rw-rw-rw-666Everyone can read and write to the file. (Be careful with these permissions.)-rwxrwxrwx777Everyone can read, write, and execute. (Again, this permissions setting can be hazardous.)



- Used basic commands for RHEL Administration [cat, last, ls, cp, mv, rm, mkdir etc]
- Used advanced commands [sudo, ssh, ssh-copy, vi, chmod, chown etc.,]
- Manage large files - /var/log/message; /var/log/security
- System resource - top, free -h, ps -ef 
02-01-2025Remove FACL Access

[root@zafar1 BANK]# getfacl secret
# file: secret
# owner: root
# group: root
user::rw-
user:spiderman:rwx
group::r--
mask::rwx
other::r--

[root@zafar1 BANK]# setfacl -b secret        < --- remove permission

[root@zafar1 BANK]# getfacl secret
# file: secret
# owner: root
# group: root
user::rw-
group::r--
other::r—
Password age
[root@zafar1 ~]# chage -l ironman
Last password change                                    : Feb 01, 2025      < ---- 
Password expires                                        : Apr 02, 2025          < ----
Password inactive                                       : never
Account expires                                         : never
Minimum number of days between password change          : 0
Maximum number of days between password change          : 60     < ---- 61 force change passowrd
Number of days of warning before password expires       : 7            < ---- 53rd warning starts

[root@zafar1 ~]# chage -M 99999 ironman
[root@zafar1 ~]#
[root@zafar1 ~]# chage -l ironman
Last password change                                    : Feb 01, 2025
Password expires                                        : never
Password inactive                                       : never
Account expires                                         : never
Minimum number of days between password change          : 0
Maximum number of days between password change          : 99999
Number of days of warning before password expires       : 7
02-01-2025


Logical Volume Management





Physical Disk
 SCSI - Small Computer System Interface - standard for physical disk

Very first HDD/dev/sda - OS diveSecond drive/dev/sdbThird drive/dev/sdc  26th/dev/sdz27th/dev/sdaa28th/dev/sdab




[root@zafar1 ~]# lsblk
NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda             8:0    0   16G  0 disk                                               < -- OS disk
??sda1          8:1    0    1G  0 part /boot
??sda2          8:2    0   15G  0 part
  ??rhel-root 253:0    0 13.4G  0 lvm  /
  ??rhel-swap 253:1    0  1.6G  0 lvm  [SWAP]
sdb             8:16   0    8G  0 disk                                             < -- secondary disk
sdc             8:32   0    4G  0 disk
sdd             8:48   0   16G  0 disk
sde             8:64   0   16G  0 disk
sdf             8:80   0    6G  0 disk
sdg             8:96   0   12G  0 disk
sdh             8:112  0   24G  0 disk
sr0            11:0    1 1024M  0 rom



Physical devices in manged in /dev - directory
Two comman ways to manage disk

- Fdisk - fixed disk editor            #< --- depricated
- LVM - Logical Disk Manager    #< --- in use

LVM stand for Logical Volume Management, it’s a system of managing logical volumes  or file systems, that is much more advanced and flexlible than the traditional method of partitioning a disk into one or more segments and formatting that partition with filesystem.

File system
- Ext4 - < ---- has reduced use

- XFS  -  < ---- commonly used these days


[root@zafar1 ~]# lsblk
NAME          MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda             8:0    0   16G  0 disk
??sda1          8:1    0    1G  0 part /boot
??sda2          8:2    0   15G  0 part
  ??rhel-root 253:0    0 13.4G  0 lvm  /
  ??rhel-swap 253:1    0  1.6G  0 lvm  [SWAP]
sdb             8:16   0    8G  0 disk
sdc             8:32   0    4G  0 disk
sdd             8:48   0   16G  0 disk
sde             8:64   0   16G  0 disk
sdf             8:80   0    6G  0 disk
sdg             8:96   0   12G  0 disk
sdh             8:112  0   24G  0 disk


/dev/sdc - 4GB	/dev/sdd - 16 GB /dev/sde - 16 GB
zmpt1

36GB
4G
AccountingFinance 6GBHR 2GB + 10GBRecruiting 4GB20 GB4G
AccountingFinance 6GBHR 12GBRecruiting 4GB10 GB20G
AccountingFinance 6GBHR 12GBRecruiting 4GB10-16= -6GB




[root@zafar1 ~]# pvcreate /dev/sdc
  Physical volume "/dev/sdc" successfully created.
[root@zafar1 ~]# pvcreate /dev/sdd /dev/sde
  Physical volume "/dev/sdd" successfully created.
  Physical volume "/dev/sde" successfully created.


CommandDisk1Disk 2Disk 3pvcreate/dev/sdc/dev/sdd/dev/sde


[root@zafar1 ~]# blkid
/dev/sda1: UUID="92473e9e-603c-4efe-ace2-b87ed6d3891c" BLOCK_SIZE="512" TYPE="xfs" PARTUUID="94f8867d-01"
/dev/sda2: UUID="6eX690-S1fL-pRSy-s0lZ-0d0b-di1G-HnUdJK" TYPE="LVM2_member" PARTUUID="94f8867d-02"
/dev/sdc: UUID="XWNHsq-USjy-Dx5c-mrfK-ELdI-HtpH-eCLLUN" TYPE="LVM2_member"
/dev/sdd: UUID="CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW" TYPE="LVM2_member"
/dev/sde: UUID="yUcFa3-HMba-rU7V-MzGt-zkNw-O066-099p07" TYPE="LVM2_member"
/dev/mapper/rhel-root: UUID="fdaf6559-b6ad-4bdc-b39e-13c5c33416ea" BLOCK_SIZE="512" TYPE="xfs"
/dev/mapper/rhel-swap: UUID="71da1c71-2ab2-43f4-8f9a-4c5c0073c592" TYPE="swap"
pvs - physical volume show

[root@zafar1 ~]# pvs
  PV         VG   Fmt  Attr PSize   PFree
  /dev/sda2  rhel lvm2 a--  <15.00g     0
  /dev/sdc        lvm2 ---    4.00g  4.00g
  /dev/sdd        lvm2 ---   16.00g 16.00g
  /dev/sde        lvm2 ---   16.00g 16.00g


[root@zafar1 ~]# vgcreate zmpt1 /dev/sdc /dev/sdd /dev/sde
  Volume group "zmpt1" successfully created

Now zmpt1 is a single volume

CommandVolume group nameDisk 1Disk 2Diesk 3vgcreatezmpt1/dev/sdc/dev/sdd/dev/sde

[root@zafar1 ~]# vgs
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g      0
  zmpt1   3   0   0 wz--n- <35.99g <35.99g
Create partitions

Accounting4GBFinance6GBHR2GBRecruiting4GB
Create Logical Volume

[root@zafar1 ~]# lvcreate -n finance -L 6G zmpt1
  Logical volume "finance" created.
[root@zafar1 ~]#
[root@zafar1 ~]# lvcreate -n hr -L 2G zmpt1
  Logical volume "hr" created.
[root@zafar1 ~]# lvcreate -n recruiting -L 4G zmpt1
  Logical volume "recruiting" created.

commandNewLogical volume nameLogicalSizeVolume Grouplvcreate-nfinance-L6GZmpt1 



[root@zafar1 ~]# lvs zmpt1
  LV         VG    Attr       LSize Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  accounting zmpt1 -wi-a----- 4.00g
  finance    zmpt1 -wi-a----- 6.00g
  hr         zmpt1 -wi-a----- 2.00g
  recruiting zmpt1 -wi-a----- 4.00g

[root@zafar1 ~]# lsblk
NAME               MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda                  8:0    0   16G  0 disk
??sda1               8:1    0    1G  0 part /boot
??sda2               8:2    0   15G  0 part
  ??rhel-root      253:0    0 13.4G  0 lvm  /
  ??rhel-swap      253:1    0  1.6G  0 lvm  [SWAP]
sdb                  8:16   0    8G  0 disk
sdc                  8:32   0    4G  0 disk
??zmpt1-hr         253:4    0    2G  0 lvm
sdd                  8:48   0   16G  0 disk
??zmpt1-accounting 253:2    0    4G  0 lvm
??zmpt1-finance    253:3    0    6G  0 lvm
??zmpt1-recruiting 253:5    0    4G  0 lvm
sde                  8:64   0   16G  0 disk
sdf                  8:80   0    6G  0 disk
sdg                  8:96   0   12G  0 disk
sdh                  8:112  0   24G  0 disk
sr0                 11:0    1 1024M  0 rom
To find out the disk path

[root@zafar1 zmpt1]# pwd
/dev/zmpt1
Create FS
[root@zafar1 ~]# mkfs.xfs /dev/zmpt1/accounting
meta-data=/dev/zmpt1/accounting  isize=512    agcount=4, agsize=262144 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1
data     =                       bsize=4096   blocks=1048576, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0

above is good output


  mkfs.xfs /dev/zmpt1/accounting
  mkfs.xfs /dev/zmpt1/finance
  mkfs.xfs /dev/zmpt1/recruiting
  mkfs.xfs /dev/zmpt1/hr
Informational

[root@zafar1 ~]# blkid
/dev/sda1: UUID="92473e9e-603c-4efe-ace2-b87ed6d3891c" BLOCK_SIZE="512" TYPE="xfs" PARTUUID="94f8                                     867d-01"
/dev/sda2: UUID="6eX690-S1fL-pRSy-s0lZ-0d0b-di1G-HnUdJK" TYPE="LVM2_member" PARTUUID="94f8867d-02                                     "
/dev/sdc: UUID="XWNHsq-USjy-Dx5c-mrfK-ELdI-HtpH-eCLLUN" TYPE="LVM2_member"
/dev/sdd: UUID="CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW" TYPE="LVM2_member"
/dev/sde: UUID="yUcFa3-HMba-rU7V-MzGt-zkNw-O066-099p07" TYPE="LVM2_member"
/dev/mapper/rhel-root: UUID="fdaf6559-b6ad-4bdc-b39e-13c5c33416ea" BLOCK_SIZE="512" TYPE="xfs"
/dev/mapper/rhel-swap: UUID="71da1c71-2ab2-43f4-8f9a-4c5c0073c592" TYPE="swap"
/dev/mapper/zmpt1-accounting: UUID="17ca7d31-75cf-4f7f-b9ef-437af1b349e7" BLOCK_SIZE="512" TYPE="                                     xfs"
/dev/mapper/zmpt1-finance: UUID="6f7c9dbc-2bda-43ac-a52d-89b0b5bef162" BLOCK_SIZE="512" TYPE="xfs                                     "
/dev/mapper/zmpt1-hr: UUID="6cb17465-2d70-4bd8-bfa4-da17b2fac938" BLOCK_SIZE="512" TYPE="xfs"
/dev/mapper/zmpt1-recruiting: UUID="155737b7-2169-45bc-bb84-ae5225ca5e1d" BLOCK_SIZE="512" TYPE="                                     xfs"
Mount it or make it useable
Create directory for each department 


[root@zafar1 ~]# mkdir /accounting
[root@zafar1 ~]# mkdir /finance
[root@zafar1 ~]# mkdir /recruiting
[root@zafar1 ~]# mkdir /hr


[root@zafar1 ~]# mount /dev/mapper/zmpt1-accounting /accounting/
[root@zafar1 ~]#
[root@zafar1 ~]# mount /dev/mapper/zmpt1-finance /finance/
[root@zafar1 ~]#
[root@zafar1 ~]# mount /dev/mapper/zmpt1-hr /hr
[root@zafar1 ~]#
[root@zafar1 ~]# mount /dev/mapper/zmpt1-recruiting /recruiting/

[root@zafar1 ~]# df -h
Filesystem                    Size  Used Avail Use% Mounted on
devtmpfs                      376M     0  376M   0% /dev
tmpfs                         405M     0  405M   0% /dev/shm
tmpfs                         405M   12M  394M   3% /run
tmpfs                         405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root          14G  4.6G  8.9G  35% /
/dev/sda1                    1014M  257M  758M  26% /boot
tmpfs                          81M  4.0K   81M   1% /run/user/1000
/dev/mapper/zmpt1-accounting  4.0G   61M  4.0G   2% /accounting
/dev/mapper/zmpt1-finance     6.0G   76M  6.0G   2% /finance
/dev/mapper/zmpt1-hr          2.0G   47M  2.0G   3% /hr
/dev/mapper/zmpt1-recruiting  4.0G   61M  4.0G   2% /recruiting


[root@zafar1 ~]#
[root@zafar1 ~]# cd /hr
[root@zafar1 hr]# touch file1
[root@zafar1 hr]# touch file2
[root@zafar1 hr]#
[root@zafar1 hr]# ls -l
total 0
-rw-r--r--. 1 root root 0 Feb  1 11:37 file1
-rw-r--r--. 1 root root 0 Feb  1 11:37 file2
[root@zafar1 hr]# df -h .
Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/zmpt1-hr  2.0G   47M  2.0G   3% /hr

[root@zafar1 ~]# systemctl reboot
All the departmental FS is missing

[root@zafar1 ~]# df -h
Filesystem             Size  Used Avail Use% Mounted on
devtmpfs               376M     0  376M   0% /dev
tmpfs                  405M     0  405M   0% /dev/shm
tmpfs                  405M  6.0M  399M   2% /run
tmpfs                  405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root   14G  4.6G  8.9G  34% /
/dev/sda1             1014M  257M  758M  26% /boot
tmpfs                   81M  4.0K   81M   1% /run/user/1000
To keep persistent with reboot - make entry into /etc/fstab
[root@zafar1 ~]# cat /etc/fstab

#
# /etc/fstab
# Created by anaconda on Sun Feb  6 02:20:19 2022
#
# Accessible filesystems, by reference, are maintained under '/dev/disk/'.
# See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info.
#
# After editing this file, run 'systemctl daemon-reload' to update systemd
# units generated from this file.
#
/dev/mapper/rhel-root   /                       xfs     defaults        0 0
UUID=92473e9e-603c-4efe-ace2-b87ed6d3891c /boot                   xfs     defaults        0 0
/dev/mapper/rhel-swap   none                    swap    defaults        0 0


/dev/mapper/zmpt1-accounting /accounting/                       xfs     defaults        0 0
/dev/mapper/zmpt1-finance /finance/                       xfs     defaults        0 0
/dev/mapper/zmpt1-hr /hr                       xfs     defaults        0 0
/dev/mapper/zmpt1-recruiting /recruiting/                       xfs     defaults        0 0


[root@zafar1 ~]# mount -a   < - Loads from /etc/fstab

[root@zafar1 ~]# df -h
Filesystem                    Size  Used Avail Use% Mounted on
devtmpfs                      376M     0  376M   0% /dev
tmpfs                         405M     0  405M   0% /dev/shm
tmpfs                         405M  6.0M  399M   2% /run
tmpfs                         405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root          14G  4.6G  8.9G  34% /
/dev/sda1                    1014M  257M  758M  26% /boot
tmpfs                          81M  4.0K   81M   1% /run/user/1000
/dev/mapper/zmpt1-accounting  4.0G   61M  4.0G   2% /accounting
/dev/mapper/zmpt1-finance     6.0G   76M  6.0G   2% /finance
/dev/mapper/zmpt1-hr          2.0G   47M  2.0G   3% /hr
/dev/mapper/zmpt1-recruiting  4.0G   61M  4.0G   2% /recruiting
02-08-2025
Mount and mount point
[root@zafar1 finance]# pwd
/finance
[root@zafar1 finance]# df -h .
Filesystem                 Size  Used Avail Use% Mounted on
/dev/mapper/zmpt1-finance  6.0G   76M  6.0G   2% /finance

MountMount point/dev/mapper/zmpt1-finance  /financeLogical volumeEntry point to Logical Volume[window]

Unmount /finance

[root@zafar1 ~]# umount /finance

[root@zafar1 ~]# cd /finance/
[root@zafar1 finance]# ll
total 0
[root@zafar1 finance]# df -h .
Filesystem             Size  Used Avail Use% Mounted on
/dev/mapper/rhel-root   14G  4.6G  8.9G  34% /          < -- /finance is sitting 

File system is not mounted


[root@zafar1 finance]# cat /etc/fstab | grep finance
/dev/mapper/zmpt1-finance /finance/                       xfs     defaults        0 0

[root@zafar1 /]# mount /dev/mapper/zmpt1-finance /test
[root@zafar1 /]# df -h
Filesystem                    Size  Used Avail Use% Mounted on
devtmpfs                      376M     0  376M   0% /dev
tmpfs                         405M     0  405M   0% /dev/shm
tmpfs                         405M  6.0M  399M   2% /run
tmpfs                         405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root          14G  4.6G  8.9G  34% /
/dev/mapper/zmpt1-accounting  4.0G   61M  4.0G   2% /accounting
/dev/mapper/zmpt1-recruiting  4.0G   61M  4.0G   2% /recruiting
/dev/mapper/zmpt1-hr          2.0G   47M  2.0G   3% /hr
/dev/sda1                    1014M  257M  758M  26% /boot
tmpfs                          81M  4.0K   81M   1% /run/user/1000
/dev/mapper/zmpt1-finance     6.0G   76M  6.0G   2% /test

[root@zafar1 /]# cd /test
[root@zafar1 test]# ls -l | wc
    101     902    4600

[root@zafar1 test]# df -h .
Filesystem                 Size  Used Avail Use% Mounted on
/dev/mapper/zmpt1-finance  6.0G   76M  6.0G   2% /test
Increasing file system
Before increasing FS
- Get information about FS, usually from /etc/fstab
- Get information if space is available vgs
- Verify the size of FS lvs
- Grab full absolute path for logical volume, df -h


[root@zafar1 ~]# pvs             < --- Physical Volume Show
  PV         VG    Fmt  Attr PSize   PFree
  /dev/sda2  rhel  lvm2 a--  <15.00g      0

  /dev/sdc   zmpt1 lvm2 a--   <4.00g  <2.00g
  /dev/sdd   zmpt1 lvm2 a--  <16.00g  <2.00g
  /dev/sde   zmpt1 lvm2 a--  <16.00g <16.00g


[root@zafar1 ~]# vgs         < --- Volume Group Show
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g      0
  zmpt1   3   4   0 wz--n- <35.99g <19.99g


[root@zafar1 ~]# lvs          < --- Logical Volume Show
  LV         VG    Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root       rhel  -wi-ao---- 13.39g
  swap       rhel  -wi-ao----  1.60g

  accounting zmpt1 -wi-ao----  4.00g
  finance    zmpt1 -wi-ao----  6.00g
  hr         zmpt1 -wi-ao----  2.00g
  recruiting zmpt1 -wi-ao----  4.00g
Add 10 GB to logical volume HR

[root@zafar1 ~]# lvextend -L +10G /dev/mapper/zmpt1-hr
  Size of logical volume zmpt1/hr changed from 2.00 GiB (512 extents) to 12.00 GiB (3072 extents).
  Logical volume zmpt1/hr successfully resized.

[root@zafar1 ~]# lvs
  LV         VG    Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root       rhel  -wi-ao---- 13.39g
  swap       rhel  -wi-ao----  1.60g
  accounting zmpt1 -wi-ao----  4.00g
  finance    zmpt1 -wi-ao----  6.00g
  hr         zmpt1 -wi-ao---- 12.00g
  recruiting zmpt1 -wi-ao----  4.00g


[root@zafar1 ~]# xfs_growfs /dev/mapper/zmpt1-hr
meta-data=/dev/mapper/zmpt1-hr   isize=512    agcount=4, agsize=131072 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1
data     =                       bsize=4096   blocks=524288, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
data blocks changed from 524288 to 3145728
Extend Volume Group
Add physical disk

[root@zafar1 ~]# pvcreate /dev/sdf
  Physical volume "/dev/sdf" successfully created.

[root@zafar1 ~]# pvs
  PV         VG    Fmt  Attr PSize   PFree
  /dev/sda2  rhel  lvm2 a--  <15.00g     0
  /dev/sdc   zmpt1 lvm2 a--   <4.00g     0
  /dev/sdd   zmpt1 lvm2 a--  <16.00g <2.00g
  /dev/sde   zmpt1 lvm2 a--  <16.00g  7.99g
  /dev/sdf         lvm2 ---    6.00g  6.00g


[root@zafar1 ~]# vgextend zmpt1 /dev/sdf
  Volume group "zmpt1" successfully extended
[root@zafar1 ~]#
[root@zafar1 ~]# vgs
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g     0
  zmpt1   4   4   0 wz--n-  41.98g 15.98g

[root@zafar1 ~]# lvs
  LV         VG    Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root       rhel  -wi-ao---- 13.39g
  swap       rhel  -wi-ao----  1.60g
  accounting zmpt1 -wi-ao----  4.00g
  finance    zmpt1 -wi-ao----  6.00g
  hr         zmpt1 -wi-ao---- 12.00g
  recruiting zmpt1 -wi-ao----  4.00g


[root@zafar1 ~]#  lvextend -l +100%FREE /dev/mapper/zmpt1-accounting
  Size of logical volume zmpt1/accounting changed from 4.00 GiB (1024 extents) to 19.98 GiB (5116 extents).
  Logical volume zmpt1/accounting successfully resized.


[root@zafar1 ~]# vgs
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g    0
  zmpt1   4   4   0 wz--n-  41.98g    0
	
[root@zafar1 ~]# lvs
  LV         VG    Attr       LSize  Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  root       rhel  -wi-ao---- 13.39g
  swap       rhel  -wi-ao----  1.60g
  accounting zmpt1 -wi-ao---- 19.98g
  finance    zmpt1 -wi-ao----  6.00g
  hr         zmpt1 -wi-ao---- 12.00g
  recruiting zmpt1 -wi-ao----  4.00g


[root@zafar1 ~]# xfs_growfs /dev/mapper/zmpt1-accounting
meta-data=/dev/mapper/zmpt1-accounting isize=512    agcount=4, agsize=262144 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1
data     =                       bsize=4096   blocks=1048576, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
data blocks changed from 1048576 to 5238784


[root@zafar1 ~]# df -h
Filesystem                    Size  Used Avail Use% Mounted on
devtmpfs                      376M     0  376M   0% /dev
tmpfs                         405M     0  405M   0% /dev/shm
tmpfs                         405M  6.0M  399M   2% /run
tmpfs                         405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root          14G  4.6G  8.9G  34% /
/dev/mapper/zmpt1-accounting   20G  176M   20G   1% /accounting
/dev/mapper/zmpt1-finance     6.0G   76M  6.0G   2% /finance
/dev/mapper/zmpt1-recruiting  4.0G   61M  4.0G   2% /recruiting
/dev/mapper/zmpt1-hr           12G  120M   12G   1% /hr
/dev/sda1                    1014M  257M  758M  26% /boot
tmpfs                          81M  4.0K   81M   1% /run/user/1000
LV management by lvm
[root@zafar1 ~]# lsblk
NAME               MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda                  8:0    0   16G  0 disk
??sda1               8:1    0    1G  0 part /boot
??sda2               8:2    0   15G  0 part
  ??rhel-root      253:0    0 13.4G  0 lvm  /
  ??rhel-swap      253:1    0  1.6G  0 lvm  [SWAP]
sdb                  8:16   0    8G  0 disk
sdc                  8:32   0    4G  0 disk
??zmpt1-hr         253:4    0   12G  0 lvm  /hr
sdd                  8:48   0   16G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
??zmpt1-finance    253:3    0    6G  0 lvm  /finance
??zmpt1-recruiting 253:5    0    4G  0 lvm  /recruiting
sde                  8:64   0   16G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
??zmpt1-hr         253:4    0   12G  0 lvm  /hr
sdf                  8:80   0    6G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
sdg                  8:96   0   12G  0 disk
sdh                  8:112  0   24G  0 disk
sr0                 11:0    1 1024M  0 rom

Move logical volume to another disk
Move from /dev/sdf to /dev/sdb

The disk size need to be same or bigger


[root@zafar1 ~]# lsblk
NAME               MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda                  8:0    0   16G  0 disk
??sda1               8:1    0    1G  0 part /boot
??sda2               8:2    0   15G  0 part
  ??rhel-root      253:0    0 13.4G  0 lvm  /
  ??rhel-swap      253:1    0  1.6G  0 lvm  [SWAP]
sdb                  8:16   0    8G  0 disk
sdc                  8:32   0    4G  0 disk
??zmpt1-hr         253:4    0   12G  0 lvm  /hr
sdd                  8:48   0   16G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
??zmpt1-finance    253:3    0    6G  0 lvm  /finance
??zmpt1-recruiting 253:5    0    4G  0 lvm  /recruiting
sde                  8:64   0   16G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
??zmpt1-hr         253:4    0   12G  0 lvm  /hr
sdf                  8:80   0    6G  0 disk
??zmpt1-accounting 253:2    0   20G  0 lvm  /accounting
sdg                  8:96   0   12G  0 disk
sdh                  8:112  0   24G  0 disk
sr0                 11:0    1 1024M  0 rom


[root@zafar1 ~]# pvcreate /dev/sdb
  Physical volume "/dev/sdb" successfully created.

[root@zafar1 ~]# vgextend zmpt1  /dev/sdb
  Volume group "zmpt1" successfully extended


[root@zafar1 ~]# pvmove /dev/sdf /dev/sdb
  /dev/sdf: Moved: 0.33%
  /dev/sdf: Moved: 75.83%
  /dev/sdf: Moved: 100.00%
Remove the  disk from 
[root@zafar1 ~]# pvmove /dev/sdd /dev/sdf
  Insufficient free space: 4095 extents needed, but only 1535 available
  Unable to allocate mirror extents for zmpt1/pvmove0.
  Failed to convert pvmove LV to mirrored.

[root@zafar1 ~]#
[root@zafar1 ~]# vgs
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g     0
  zmpt1   5   4   0 wz--n-  49.98g <8.00g
[root@zafar1 ~]#
[root@zafar1 ~]# pvs
  PV         VG    Fmt  Attr PSize   PFree
  /dev/sda2  rhel  lvm2 a--  <15.00g     0
  /dev/sdb   zmpt1 lvm2 a--   <8.00g  2.00g
  /dev/sdc   zmpt1 lvm2 a--   <4.00g     0
  /dev/sdd   zmpt1 lvm2 a--  <16.00g     0
  /dev/sde   zmpt1 lvm2 a--  <16.00g     0
  /dev/sdf   zmpt1 lvm2 a--   <6.00g <6.00g

[root@zafar1 ~]# vgreduce zmpt1 /dev/sdf
  Removed "/dev/sdf" from volume group "zmpt1"
[root@zafar1 ~]#
[root@zafar1 ~]# pvs
  PV         VG    Fmt  Attr PSize   PFree
  /dev/sda2  rhel  lvm2 a--  <15.00g    0
  /dev/sdb   zmpt1 lvm2 a--   <8.00g 2.00g
  /dev/sdc   zmpt1 lvm2 a--   <4.00g    0
  /dev/sdd   zmpt1 lvm2 a--  <16.00g    0
  /dev/sde   zmpt1 lvm2 a--  <16.00g    0
  /dev/sdf         lvm2 ---    6.00g 6.00g
[root@zafar1 ~]#

[root@zafar1 ~]# pvremove /dev/sdf
  Labels on physical volume "/dev/sdf" successfully wiped.
[root@zafar1 ~]# pvs
  PV         VG    Fmt  Attr PSize   PFree
  /dev/sda2  rhel  lvm2 a--  <15.00g    0
  /dev/sdb   zmpt1 lvm2 a--   <8.00g 2.00g
  /dev/sdc   zmpt1 lvm2 a--   <4.00g    0
  /dev/sdd   zmpt1 lvm2 a--  <16.00g    0
  /dev/sde   zmpt1 lvm2 a--  <16.00g    0
[root@zafar1 ~]#

[root@zafar1 ~]# vgs
  VG    #PV #LV #SN Attr   VSize   VFree
  rhel    1   2   0 wz--n- <15.00g    0
  zmpt1   4   4   0 wz--n-  43.98g 2.00g
Delete all the LVM and VG

[root@zafar1 ~]# umount /accounting /finance /recruiting /hr
Delete from /etc/fstab

/dev/mapper/zmpt1-accounting /accounting/                       xfs     defaults        0 0
/dev/mapper/zmpt1-finance /finance/                       xfs     defaults        0 0
/dev/mapper/zmpt1-hr /hr                       xfs     defaults        0 0
/dev/mapper/zmpt1-recruiting /recruiting/                       xfs     defaults     


[root@zafar1 ~]# lvremove /dev/mapper/zmpt1-*
  WARNING: Not using device /dev/sdh for PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW.
  WARNING: PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW prefers device /dev/sdd because device is used by LV.
Do you really want to remove active logical volume zmpt1/accounting? [y/n]: y

[root@zafar1 ~]# lvremove /dev/mapper/zmpt1-finance /dev/mapper/zmpt1-hr /dev/mapper/zmpt1-recruiting
  WARNING: Not using device /dev/sdh for PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW.
  WARNING: PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW prefers device /dev/sdd because device is used by LV.
Do you really want to remove active logical volume zmpt1/finance? [y/n]: y

[root@zafar1 ~]# lvremove /dev/mapper/zmpt1-hr
  WARNING: Not using device /dev/sdh for PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW.
  WARNING: PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW prefers device /dev/sdd because device is used by LV.
Do you really want to remove active logical volume zmpt1/hr? [y/n]: y
  Cannot update volume group zmpt1 with duplicate PV devices.

[root@zafar1 ~]# lvremove /dev/mapper/zmpt1-recruiting
  WARNING: Not using device /dev/sdh for PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW.
  WARNING: PV CQzyJs-Lnh4-F0G0-7B2F-ADLb-gocW-x6x1iW prefers device /dev/sdd because device is used by LV.
Do you really want to remove active logical volume zmpt1/recruiting? [y/n]: y
  Cannot update volume group zmpt1 with duplicate PV devices.


[root@zafar1 ~]# partprobe

[root@zafar1 ~]# vgremove zmpt1
Do you really want to remove volume group "zmpt1" containing 4 logical volumes? [y/n]: y
  Logical volume "accounting" successfully removed.
  Logical volume "finance" successfully removed.
  Logical volume "hr" successfully removed.
  Logical volume "recruiting" successfully removed.
  Volume group "zmpt1" successfully removed



[root@zafar1 ~]# vgs
  VG   #PV #LV #SN Attr   VSize   VFree
  rhel   1   2   0 wz--n- <15.00g    0
02-15-2025

Disk Duplicate


[root@zafar1 ~]# pvcreate /dev/sdf
  Physical volume "/dev/sdf" successfully created.
[root@zafar1 ~]# vgcreate zmpt1 /dev/sdf
  Volume group "zmpt1" successfully created
[root@zafar1 ~]# lvcreate -n hr -L 4G zmpt1
  Logical volume "hr" created.
[root@zafar1 ~]# mkfs.xfs /dev/mapper/zmpt1-hr
meta-data=/dev/mapper/zmpt1-hr   isize=512    agcount=4, agsize=262144 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=1        finobt=1, sparse=1, rmapbt=0
         =                       reflink=1
data     =                       bsize=4096   blocks=1048576, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0, ftype=1
log      =internal log           bsize=4096   blocks=2560, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0


[root@zafar1 ~]# mount /dev/mapper/zmpt1-hr /hr
[root@zafar1 ~]# df -h
Filesystem             Size  Used Avail Use% Mounted on
devtmpfs               376M     0  376M   0% /dev
tmpfs                  405M     0  405M   0% /dev/shm
tmpfs                  405M  6.0M  399M   2% /run
tmpfs                  405M     0  405M   0% /sys/fs/cgroup
/dev/mapper/rhel-root   14G  4.6G  8.9G  34% /
/dev/sda1             1014M  257M  758M  26% /boot
tmpfs                   81M     0   81M   0% /run/user/0
tmpfs                   81M  4.0K   81M   1% /run/user/1000
/dev/mapper/zmpt1-hr   4.0G   61M  4.0G   2% /hr
Disk is getting corrupted


[root@zafar1 ~]# dd if=/dev/sdf of=/dev/sdb
12582912+0 records in
12582912+0 records out
6442450944 bytes (6.4 GB, 6.0 GiB) copied, 242.747 s, 26.5 MB/s

Run-Level

[root@zafar1 ~]# runlevel
N 3
[root@zafar1 ~]#
[root@zafar1 ~]# who -r
         run-level 3  2025-02-15 09:09
[root@zafar1 ~]#

Runlevel 0Shutdown modeinit 0Runlevel 1Rescue/ emergency mode - no network/ no putty connectionInit 1Runlevel 2Unused but configured the same as run-level 3no NFSInit 2Runlevel 3Multiuser mode with NFS - DEFAULT MODEInit 3Runlevel 4No usedInit 4Runlevel 5Graphical User Interface mode - GUIInit 5Runlevel 6RebootInit 6 



Password Recovery













mount -o remount, rw /sysroot
chroot /sysroot
passwd
 
“change the root password”
 
 
touch /.autorelabel                          < ---- to save the changes
exit
reboot




Network Interface Card

[root@zafar1 ~]# ip a
1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:c4:9a:78 brd ff:ff:ff:ff:ff:ff
 
3: enp0s8: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:e5:4e:6c brd ff:ff:ff:ff:ff:ff









Let configure enp0s3

[root@zafar1 ~]# cd /etc/sysconfig/network-scripts/           < --- Directory for NIC configuration files

[root@zafar1 network-scripts]# ls -l
total 12
-rw-r--r--. 1 root root  68 Feb  5  2022 ifcfg-enp0s10
-rw-r--r--. 1 root root 247 Feb  5  2022 ifcfg-enp0s3
-rw-r--r--. 1 root root  66 Feb  5  2022 ifcfg-enp0s9

[root@zafar1 network-scripts]# vi ifcfg-enp0s3

TYPE=Ethernet
BOOTPROTO=dhcp                     < --- [Dynamic Host Control Protocol]
NAME=enp0s3
DEVICE=enp0s3
ONBOOT=yes
Reboot
2: enp0s3: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:c4:9a:78 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.134/24 brd 192.168.56.255 scope global dynamic noprefixroute enp0s3
       valid_lft 1173sec preferred_lft 1173sec
    inet6 fe80::a00:27ff:fec4:9a78/64 scope link
       valid_lft forever preferred_lft forever

02-22-2025
SETUP Static ip Address
TYPE=Ethernet
BOOTPROTO=static
NAME=enp0s3
DEVICE=enp0s3
ONBOOT=yes
HWADDR=08:00:27:c4:9a:78
IPADDR=192.168.56.130
NETMASK=255.255.255.0

TYPE=EthernetConnectionBOOTPROTO=staticProtocol[dhcp is random ] [static is assigned]NAME=enp0s3This NiC name, matches with config fileDEVICE=enp0s3This NiC device, matches with Config fileONBOOT=yesIf yes system will automatically enable ipHWADDR=08:00:27:c4:9a:78Hardware Address or MAC AddressIPADDR=192.168.56.130Static IP of your choiceNETMASK=255.255.255.0Sub Network Mask
Nic Bonding



 Linux allows binding of multiple network interfaces into a single channel/NIC using special kernel module called bonding.


We will use ifcfg-enp0s3 and ifcfg-enp0s8

[root@zafar1 network-scripts]# cat ifcfg-enp0s3
TYPE=Ethernet
BOOTPROTO=none
NAME=enp0s3
DEVICE=enp0s3
ONBOOT=yes
SLAVE=yes
MASTER=bond0


[root@zafar1 network-scripts]# cat ifcfg-enp0s8
TYPE=Ethernet
BOOTPROTO=none
NAME=enp0s8
DEVICE=enp0s8
ONBOOT=yes
SLAVE=yes
MASTER=bond0


[root@zafar1 network-scripts]# cat ifcfg-bond0
TYPE=bond0
DEVICE=bond0
ONBOOT=yes
BOOTPROTO=static
IPADD=192.168.56.135
NETMASK=255.255.255.0

Activate bonding
[root@zafar1 network-scripts]# cd /etc/modprobe.d
[root@zafar1 modprobe.d]#
[root@zafar1 modprobe.d]# vi bonding.conf
[root@zafar1 modprobe.d]# cat bonding.conf

alias bond0 bonding


[root@zafar1 modprobe.d]# modprobe bonding
[root@zafar1 modprobe.d]#
[root@zafar1 modprobe.d]# lsmod | grep bonding
bonding               196608  0
tls                   102400  1 bonding

2: enp0s3: <BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP> mtu 1500 qdisc fq_codel master bond0 state UP group default qlen 1000
    link/ether 08:00:27:c4:9a:78 brd ff:ff:ff:ff:ff:ff
3: enp0s8: <BROADCAST,MULTICAST,SLAVE,UP,LOWER_UP> mtu 1500 qdisc fq_codel master bond0 state UP group default qlen 1000
    link/ether 08:00:27:c4:9a:78 brd ff:ff:ff:ff:ff:ff permaddr 08:00:27:e5:4e:6c


5: bond0: <BROADCAST,MULTICAST,MASTER,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default qlen 1000
    link/ether 08:00:27:c4:9a:78 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.135/24 brd 192.168.56.255 scope global noprefixroute bond0
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fec4:9a78/64 scope link
       valid_lft forever preferred_lft forever

subscription-manager register --username=<your_RedHat_username> --password=<your_RedHat_password>

www.zmprotech.com
773-800-1250

Copyright © 2025 ZMProTech 	www.zmprotech.com 
linux@zmprotech.com

